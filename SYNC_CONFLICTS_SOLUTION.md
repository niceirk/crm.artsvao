# –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ø—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

## –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–µ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤ –º–µ–∂–¥—É CRM –∏ Pyrus:
- **–í CRM:** "–∞–∫—Ü–∏—è1"
- **–í Pyrus:** "–∞–∫—Ü–∏—è"
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–æ–Ω—Ñ–ª–∏–∫—Ç –ù–ï –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–ª—Å—è –∏ —Å–æ–∑–¥–∞–≤–∞–ª–∏—Å—å –¥—É–±–ª–∏ ‚ùå

## –†–µ—à–µ–Ω–∏–µ

### 1. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω Fuzzy Matching (–Ω–µ—á–µ—Ç–∫–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ)

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∞–ª–≥–æ—Ä–∏—Ç–º **Levenshtein distance** –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –ø–æ—Ö–æ–∂–∏—Ö –Ω–∞–∑–≤–∞–Ω–∏–π:

```typescript
function stringSimilarity(str1: string, str2: string): number {
  // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 0-1 (0 = —Ä–∞–∑–Ω—ã–µ, 1 = –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–µ)
  // –ü–æ—Ä–æ–≥ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è: 75%
}
```

**–ü—Ä–∏–º–µ—Ä—ã:**
- "–∞–∫—Ü–∏—è" vs "–∞–∫—Ü–∏—è1" ‚Üí **80%** —Å—Ö–æ–∂–µ—Å—Ç–∏ ‚Üí ‚ö†Ô∏è –ü–û–¢–ï–ù–¶–ò–ê–õ–¨–ù–´–ô –î–£–ë–õ–¨
- "–∫–æ–Ω—Ü–µ—Ä—Ç" vs "–∫–æ–Ω—Å–µ—Ä—Ç" ‚Üí **87.5%** ‚Üí ‚ö†Ô∏è –ü–û–¢–ï–ù–¶–ò–ê–õ–¨–ù–´–ô –î–£–ë–õ–¨
- "—Å–µ–º–∏–Ω–∞—Ä" vs "–≤–µ–±–∏–Ω–∞—Ä" ‚Üí **62.5%** ‚Üí ‚úÖ –†–∞–∑–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã

### 2. ‚úÖ –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –º–∞—Å—Å–∏–≤ errors

**–ë—ã–ª–æ:**
```typescript
this.logger.warn('–ö–û–ù–§–õ–ò–ö–¢...');  // –¢–æ–ª—å–∫–æ –ª–æ–≥–∏
result.updated++;
```

**–°—Ç–∞–ª–æ:**
```typescript
const conflictMessage = `–ö–û–ù–§–õ–ò–ö–¢: "${crmName}" (CRM) vs "${pyrusName}" (Pyrus)`;
this.logger.warn(`‚ö†Ô∏è  ${conflictMessage}`);
result.errors.push(conflictMessage);  // ‚úÖ –î–æ–±–∞–≤–ª—è–µ–º –≤ errors –¥–ª—è UI
result.updated++;
```

### 3. ‚úÖ –£–ª—É—á—à–µ–Ω UI –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

**Frontend –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**
```
‚ö†Ô∏è –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è–º–∏!
–°–æ–∑–¥–∞–Ω–æ: 0, –û–±–Ω–æ–≤–ª–µ–Ω–æ: 114
‚ö†Ô∏è –ö–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤: 1
‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –¥—É–±–ª–µ–π: 3
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–µ—Ç–∞–ª–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
```

**–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:**
```
üîç –î–µ—Ç–∞–ª–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:
  ‚ö†Ô∏è –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ):
    –ö–û–ù–§–õ–ò–ö–¢: "–∞–∫—Ü–∏—è1" (CRM) vs "–∞–∫—Ü–∏—è" (Pyrus)

  ‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥—É–±–ª–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–ø—É—â–µ–Ω–æ):
    –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –¥—É–±–ª—å: "–ì–∞–≥–∞—Ä–∏–Ω" (CRM) –ø–æ—Ö–æ–∂ –Ω–∞ "b-204, –ª–µ–∫—Ç–æ—Ä–∏–π –≥–∞–≥–∞—Ä–∏–Ω" (Pyrus)
    –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –¥—É–±–ª—å: "–ú–∞–ª—ã–π —Ö–æ—Ä–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∑–∞–ª" (CRM) –ø–æ—Ö–æ–∂ –Ω–∞ "c-202, –º–∞–ª—ã–π —Ö–æ—Ä–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∑–∞–ª" (Pyrus)
```

## –ß—Ç–æ —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏?

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ ‚úÖ
```
CRM:   "–ö–æ–Ω—Ü–µ—Ä—Ç"
Pyrus: "–ö–æ–Ω—Ü–µ—Ä—Ç"
‚Üí –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–æ—Ö–æ–∂–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è (‚â•75%) ‚ö†Ô∏è
```
CRM:   "–∞–∫—Ü–∏—è1"
Pyrus: "–∞–∫—Ü–∏—è"
‚Üí ‚ö†Ô∏è –ü–û–¢–ï–ù–¶–ò–ê–õ–¨–ù–´–ô –î–£–ë–õ–¨ –æ–±–Ω–∞—Ä—É–∂–µ–Ω
‚Üí –°–æ–∑–¥–∞–Ω–∏–µ –¥—É–±–ª—è –ø—Ä–æ–ø—É—â–µ–Ω–æ
‚Üí –û—à–∏–±–∫–∞ –≤ –º–∞—Å—Å–∏–≤–µ result.errors
‚Üí UI –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ö–æ–Ω—Ñ–ª–∏–∫—Ç (–¥–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω—ã) ‚ö†Ô∏è
```
CRM:   "–∞–∫—Ü–∏—è1" (–∏–∑–º–µ–Ω–µ–Ω–æ –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏)
Pyrus: "–∞–∫—Ü–∏—è"
‚Üí ‚ö†Ô∏è –ö–û–ù–§–õ–ò–ö–¢ –æ–±–Ω–∞—Ä—É–∂–µ–Ω
‚Üí –î–∞–Ω–Ω—ã–µ –ù–ï –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
‚Üí –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
```

## –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### Backend
1. **`backend/src/integrations/pyrus/pyrus.service.ts`**
   - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `stringSimilarity()` (Levenshtein distance)
   - ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã:
     - `syncEventTypesFromCatalog()` - Pyrus ‚Üí CRM
     - `syncEventTypesToPyrus()` - CRM ‚Üí Pyrus
     - `syncRoomsFromCatalog()` - Pyrus ‚Üí CRM
     - `syncRoomsToPyrus()` - CRM ‚Üí Pyrus
   - ‚úÖ –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ `result.errors`

### Frontend
1. **`frontend/lib/api/pyrus.ts`**
   - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–∏–ø—ã –¥–ª—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
   - ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏:
     - `detectSyncConflicts()`
     - `syncWithResolution()`

2. **`frontend/app/(dashboard)/admin/event-types/page.tsx`**
   - ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—à–∏–±–æ–∫
   - ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –∏ –¥—É–±–ª–∏
   - ‚úÖ –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –≤ –∫–æ–Ω—Å–æ–ª–∏

3. **`frontend/app/(dashboard)/admin/rooms/page.tsx`**
   - ‚úÖ –ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –¥–ª—è –ø–æ–º–µ—â–µ–Ω–∏–π

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã:
```bash
curl http://localhost:3000/api/integrations/pyrus/detect-conflicts \
  -H "Authorization: Bearer $TOKEN" | jq
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é:
- –û—Ç–∫—Ä–æ–π—Ç–µ **–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ ‚Üí –¢–∏–ø—ã –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π**
- –ù–∞–∂–º–∏—Ç–µ **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Pyrus**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ toast-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
- –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–µ—Ç–∞–ª–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

### 3. –¢–µ–∫—É—â–∏–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã:

**–¢–∏–ø—ã –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π:**
- ‚ö†Ô∏è –ö–û–ù–§–õ–ò–ö–¢: "–∞–∫—Ü–∏—è1" (CRM) vs "–∞–∫—Ü–∏—è" (Pyrus)

**–ü–æ–º–µ—â–µ–Ω–∏—è:**
- ‚ö†Ô∏è –î–£–ë–õ–¨: "–ú–∞–ª—ã–π —Ö–æ—Ä–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∑–∞–ª" (CRM) vs "c-202, –º–∞–ª—ã–π —Ö–æ—Ä–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∑–∞–ª" (Pyrus) - 80%
- ‚ö†Ô∏è –î–£–ë–õ–¨: "–ì–∞–≥–∞—Ä–∏–Ω" (CRM) vs "b-204, –ª–µ–∫—Ç–æ—Ä–∏–π –≥–∞–≥–∞—Ä–∏–Ω" (Pyrus) - 80%
- ‚ö†Ô∏è –î–£–ë–õ–¨: "B-101, –ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π –∑–∞–ª1" (CRM) vs "b-101, –º—É–∑—ã–∫–∞–ª—å–Ω—ã–π –∑–∞–ª" (Pyrus) - 80%

## –ö–∞–∫ —Ä–∞–∑—Ä–µ—à–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã?

### –í–∞—Ä–∏–∞–Ω—Ç 1: –í—Ä—É—á–Ω—É—é (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. **–î–ª—è –∏–¥–µ–Ω—Ç–∏—á–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤:**
   - –û—Å—Ç–∞–≤—å—Ç–µ –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç (–æ–±—ã—á–Ω–æ –∏–∑ Pyrus –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã)
   - –£–¥–∞–ª–∏—Ç–µ –¥—É–±–ª—å –∏–∑ CRM
   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é —Å–Ω–æ–≤–∞

2. **–î–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤:**
   - –ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ –æ–¥–∏–Ω –∏–∑ –æ–±—ä–µ–∫—Ç–æ–≤, —á—Ç–æ–±—ã —Å—Ö–æ–∂–µ—Å—Ç—å —Å—Ç–∞–ª–∞ < 75%
   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é —Å–Ω–æ–≤–∞

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

```typescript
import { syncWithResolution, ConflictResolution } from '@/lib/api/pyrus';

// –†–∞–∑—Ä–µ—à–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ CRM
await syncWithResolution({
  eventTypeResolutions: [
    { id: 'event-type-id', resolution: ConflictResolution.USE_CRM }
  ],
  roomResolutions: [
    { id: 'room-id', resolution: ConflictResolution.USE_PYRUS }
  ]
});
```

**–û–ø—Ü–∏–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è:**
- `USE_CRM` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ CRM, –æ–±–Ω–æ–≤–∏—Ç—å Pyrus
- `USE_PYRUS` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ Pyrus, –æ–±–Ω–æ–≤–∏—Ç—å CRM
- `SKIP` - –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –æ–±—ä–µ–∫—Ç

## UI –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ (TODO)

–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç UI –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ **–ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω**.

### –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:

1. **–ö–Ω–æ–ø–∫–∞ "–û–±–Ω–∞—Ä—É–∂–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã"** –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤
2. **–î–∏–∞–ª–æ–≥ —Å —Ç–∞–±–ª–∏—Ü–µ–π –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤:**
   - –°—Ç–æ–ª–±—Ü—ã: CRM | Pyrus | –î–µ–π—Å—Ç–≤–∏–µ
   - –†–∞–¥–∏–æ-–∫–Ω–æ–ø–∫–∏: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CRM / –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Pyrus / –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å
3. **–ö–Ω–æ–ø–∫–∞ "–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è"**

### –ü—Ä–∏–º–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:
```tsx
// frontend/components/sync/ConflictResolutionDialog.tsx
import { detectSyncConflicts, syncWithResolution } from '@/lib/api/pyrus';

export function ConflictResolutionDialog() {
  // 1. –ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã —á–µ—Ä–µ–∑ detectSyncConflicts()
  // 2. –ü–æ–∫–∞–∑–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É —Å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º–∏
  // 3. –ü–æ–∑–≤–æ–ª–∏—Ç—å –≤—ã–±—Ä–∞—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ
  // 4. –ü—Ä–∏–º–µ–Ω–∏—Ç—å —á–µ—Ä–µ–∑ syncWithResolution()
}
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä–æ–≥–∞ —Å—Ö–æ–∂–µ—Å—Ç–∏

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –¥—É–±–ª–µ–π, –∏–∑–º–µ–Ω–∏—Ç–µ –≤ `pyrus.service.ts`:

```typescript
const SIMILARITY_THRESHOLD = 0.75; // 75% –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

// –ë–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–π (–º–µ–Ω—å—à–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π):
const SIMILARITY_THRESHOLD = 0.85; // 85%

// –ë–æ–ª–µ–µ –º—è–≥–∫–∏–π (–±–æ–ª—å—à–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–π):
const SIMILARITY_THRESHOLD = 0.65; // 65%
```

## –ü–æ—á–µ–º—É "–û–±–Ω–æ–≤–ª–µ–Ω–æ: 114" –ø—Ä–∏ 57 –æ–±—ä–µ–∫—Ç–∞—Ö?

–≠—Ç–æ **–Ω–æ—Ä–º–∞–ª—å–Ω–æ**! –î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:
- 57 –æ–±—ä–µ–∫—Ç–æ–≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ Pyrus ‚Üí CRM = 57
- 57 –æ–±—ä–µ–∫—Ç–æ–≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ CRM ‚Üí Pyrus = 57
- **–ò—Ç–æ–≥–æ:** 57 + 57 = **114** ‚úÖ

## API Endpoints

### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- `POST /api/integrations/pyrus/sync-event-types-bidirectional` - –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç–∏–ø–æ–≤
- `POST /api/integrations/pyrus/sync-rooms-bidirectional` - –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ–º–µ—â–µ–Ω–∏–π

### –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
- `GET /api/integrations/pyrus/detect-conflicts` - –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
- `POST /api/integrations/pyrus/sync-with-resolution` - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Ä—É—á–Ω—ã–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `/home/nikita/artsvao/FUZZY_MATCHING_FIX.md`
- **–ò—Å—Ç–æ—Ä–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:** `/home/nikita/artsvao/SYNC_FIX_SUMMARY.md`
