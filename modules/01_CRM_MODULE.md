# –ú–æ–¥—É–ª—å CRM (–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º–∏)

**–í–µ—Ä—Å–∏—è:** 1.0
**–î–∞—Ç–∞:** 2025-11-13
**–°—Ç–∞—Ç—É—Å:** –î–µ—Ç–∞–ª—å–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è

---

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä –º–æ–¥—É–ª—è](#–æ–±–∑–æ—Ä-–º–æ–¥—É–ª—è)
2. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–¥–∞–Ω–Ω—ã—Ö)
3. [–ö–∞—Ä—Ç–æ—á–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞](#–∫–∞—Ä—Ç–æ—á–∫–∞-–∫–ª–∏–µ–Ω—Ç–∞)
4. [–ë–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã](#–±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã)
5. [–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –ª–∏—Ü–∞ (–∫–æ–º–ø–∞–Ω–∏–∏)](#—é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ-–ª–∏—Ü–∞-–∫–æ–º–ø–∞–Ω–∏–∏)
6. [–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö](#–≤–∞–ª–∏–¥–∞—Ü–∏—è-–¥–∞–Ω–Ω—ã—Ö)
7. [–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤](#–ø—Ä–æ–≤–µ—Ä–∫–∞-–¥—É–±–ª–∏–∫–∞—Ç–æ–≤)
8. [–†–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–≤—è–∑–∏](#—Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ-—Å–≤—è–∑–∏)
9. [–ò—Å—Ç–æ—Ä–∏—è –∫–ª–∏–µ–Ω—Ç–∞](#–∏—Å—Ç–æ—Ä–∏—è-–∫–ª–∏–µ–Ω—Ç–∞)
10. [–ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è](#–ø–æ–∏—Å–∫-–∏-—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è)
11. [–ò–º–ø–æ—Ä—Ç –∏–∑ Excel](#–∏–º–ø–æ—Ä—Ç-–∏–∑-excel)
12. [–≠–∫—Å–ø–æ—Ä—Ç –≤ Excel](#—ç–∫—Å–ø–æ—Ä—Ç-–≤-excel)
13. [–°—Ç–∞—Ç—É—Å—ã –∫–ª–∏–µ–Ω—Ç–∞](#—Å—Ç–∞—Ç—É—Å—ã-–∫–ª–∏–µ–Ω—Ç–∞)
14. [–ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏](#–º–∞—Å—Å–æ–≤—ã–µ-–æ–ø–µ—Ä–∞—Ü–∏–∏)
15. [–î–µ–π—Å—Ç–≤–∏—è —Å –∫–ª–∏–µ–Ω—Ç–æ–º](#–¥–µ–π—Å—Ç–≤–∏—è-—Å-–∫–ª–∏–µ–Ω—Ç–æ–º)
16. [–ê—Ä—Ö–∏–≤–∞—Ü–∏—è](#–∞—Ä—Ö–∏–≤–∞—Ü–∏—è)
17. [–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞](#–ø—Ä–∞–≤–∞-–¥–æ—Å—Ç—É–ø–∞)
18. [UI/UX —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#uiux-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
19. [–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ –º–æ–¥—É–ª—è–º–∏](#–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ-—Å-–¥—Ä—É–≥–∏–º–∏-–º–æ–¥—É–ª—è–º–∏)
20. [API Endpoints](#api-endpoints)

---

## 1. –û–±–∑–æ—Ä –º–æ–¥—É–ª—è

### 1.1. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–ú–æ–¥—É–ª—å CRM –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ –æ –∫–ª–∏–µ–Ω—Ç–∞—Ö –∫—É–ª—å—Ç—É—Ä–Ω–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∞. –≠—Ç–æ –±–∞–∑–æ–≤—ã–π –º–æ–¥—É–ª—å —Å–∏—Å—Ç–µ–º—ã, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –æ–ø–∏—Ä–∞—é—Ç—Å—è –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏ (–ø—Ä–æ–¥–∞–∂–∏, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ, –ø–ª–∞—Ç–µ–∂–∏, –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å).

### 1.2. –ë–∏–∑–Ω–µ—Å-—Ü–µ–ª–∏

- –•—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–ª–∏–µ–Ω—Ç–∞—Ö
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏
- –£—á–µ—Ç —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–≤—è–∑–µ–π –¥–ª—è —Å–µ–º–µ–π–Ω—ã—Ö —Å–∫–∏–¥–æ–∫
- –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –∏ –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –∫–ª–∏–µ–Ω—Ç–∞
- –ò–º–ø–æ—Ä—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –±–∞–∑ –∫–ª–∏–µ–Ω—Ç–æ–≤
- –°–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

### 1.3. –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

- –°–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ä—Ç–æ—á–µ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —Å–≤—è–∑—è–º–∏
- –ò—Å—Ç–æ—Ä–∏—è –ø–æ—Å–µ—â–µ–Ω–∏–π –∏ –æ–ø–ª–∞—Ç
- –ò–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –∏–∑ Excel
- –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, —ç–∫—Å–ø–æ—Ä—Ç)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤

---

## 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### 2.1. –¢–∞–±–ª–∏—Ü–∞ Client

```sql
CREATE TABLE clients (
  id                UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  last_name         VARCHAR(100) NOT NULL,
  first_name        VARCHAR(100) NOT NULL,
  middle_name       VARCHAR(100) NOT NULL,
  date_of_birth     DATE,
  gender            VARCHAR(20),
  phone             VARCHAR(20) NOT NULL,
  phone_additional  VARCHAR(20),
  email             VARCHAR(255),
  address           TEXT,
  passport_number   VARCHAR(20),
  birth_certificate VARCHAR(50),
  snils             VARCHAR(14),
  benefit_category_id UUID REFERENCES benefit_categories(id),
  notes             TEXT,
  status            VARCHAR(20) DEFAULT 'active',
  created_at        TIMESTAMP DEFAULT NOW(),
  updated_at        TIMESTAMP DEFAULT NOW(),
  created_by        UUID REFERENCES users(id),
  last_activity_at  TIMESTAMP
);

CREATE INDEX idx_clients_phone ON clients(phone);
CREATE INDEX idx_clients_last_name ON clients(last_name);
CREATE INDEX idx_clients_status ON clients(status);
CREATE INDEX idx_clients_email ON clients(email);
CREATE INDEX idx_clients_last_activity ON clients(last_activity_at);
```

### 2.2. –¢–∞–±–ª–∏—Ü–∞ ClientRelation

```sql
CREATE TABLE client_relations (
  id                 UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  client_id          UUID NOT NULL REFERENCES clients(id) ON DELETE CASCADE,
  related_client_id  UUID NOT NULL REFERENCES clients(id) ON DELETE CASCADE,
  relation_type_id   UUID NOT NULL REFERENCES relation_types(id),
  created_at         TIMESTAMP DEFAULT NOW(),
  created_by         UUID REFERENCES users(id),

  UNIQUE(client_id, related_client_id)
);

CREATE INDEX idx_client_relations_client ON client_relations(client_id);
CREATE INDEX idx_client_relations_related ON client_relations(related_client_id);
```

### 2.3. –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Å—Ç–µ–ø–µ–Ω–µ–π —Ä–æ–¥—Å—Ç–≤–∞

```sql
CREATE TABLE relation_types (
  id          UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  name        VARCHAR(100) NOT NULL UNIQUE,
  sort_order  INT DEFAULT 0
);

-- –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
INSERT INTO relation_types (name, sort_order) VALUES
  ('–†–æ–¥–∏—Ç–µ–ª—å', 1),
  ('–†–µ–±–µ–Ω–æ–∫', 2),
  ('–°—É–ø—Ä—É–≥', 3),
  ('–°—É–ø—Ä—É–≥–∞', 4),
  ('–ë—Ä–∞—Ç', 5),
  ('–°–µ—Å—Ç—Ä–∞', 6),
  ('–ë–∞–±—É—à–∫–∞', 7),
  ('–î–µ–¥—É—à–∫–∞', 8),
  ('–î—è–¥—è', 9),
  ('–¢–µ—Ç—è', 10),
  ('–î—Ä—É–≥–æ–µ', 99);
```

### 2.4. –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ª—å–≥–æ—Ç–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π

```sql
CREATE TABLE benefit_categories (
  id                  UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  name                VARCHAR(100) NOT NULL UNIQUE,
  discount_percentage DECIMAL(5,2) DEFAULT 0,
  description         TEXT,
  is_active           BOOLEAN DEFAULT TRUE,
  sort_order          INT DEFAULT 0
);

-- –ü—Ä–∏–º–µ—Ä—ã
INSERT INTO benefit_categories (name, discount_percentage, description, sort_order) VALUES
  ('–ú–Ω–æ–≥–æ–¥–µ—Ç–Ω–∞—è —Å–µ–º—å—è', 10.00, '–°–∫–∏–¥–∫–∞ 10% –¥–ª—è —Å–µ–º–µ–π —Å 3+ –¥–µ—Ç—å–º–∏', 1),
  ('–ü–µ–Ω—Å–∏–æ–Ω–µ—Ä', 15.00, '–°–∫–∏–¥–∫–∞ 15% –¥–ª—è –ø–µ–Ω—Å–∏–æ–Ω–µ—Ä–æ–≤', 2),
  ('–ò–Ω–≤–∞–ª–∏–¥', 20.00, '–°–∫–∏–¥–∫–∞ 20% –¥–ª—è –ª—é–¥–µ–π —Å –∏–Ω–≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å—é', 3),
  ('–°–æ—Ç—Ä—É–¥–Ω–∏–∫', 50.00, '–°–∫–∏–¥–∫–∞ 50% –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Ü–µ–Ω—Ç—Ä–∞', 4),
  ('–ù–µ—Ç', 0, '–ë–µ–∑ –ª—å–≥–æ—Ç', 99);
```

### 2.5. Prisma Schema

```prisma
enum ClientStatus {
  ACTIVE
  INACTIVE
}

enum Gender {
  MALE
  FEMALE
  OTHER
}

model Client {
  id                 String         @id @default(uuid())
  lastName           String         @map("last_name") @db.VarChar(100)
  firstName          String         @map("first_name") @db.VarChar(100)
  middleName         String         @map("middle_name") @db.VarChar(100)
  dateOfBirth        DateTime?      @map("date_of_birth") @db.Date
  gender             Gender?
  phone              String         @db.VarChar(20)
  phoneAdditional    String?        @map("phone_additional") @db.VarChar(20)
  email              String?        @db.VarChar(255)
  address            String?        @db.Text
  passportNumber     String?        @map("passport_number") @db.VarChar(20)
  birthCertificate   String?        @map("birth_certificate") @db.VarChar(50)
  snils              String?        @db.VarChar(14)
  benefitCategoryId  String?        @map("benefit_category_id")
  notes              String?        @db.Text
  status             ClientStatus   @default(ACTIVE)
  createdAt          DateTime       @default(now()) @map("created_at")
  updatedAt          DateTime       @updatedAt @map("updated_at")
  createdBy          String?        @map("created_by")
  lastActivityAt     DateTime?      @map("last_activity_at")

  benefitCategory    BenefitCategory? @relation(fields: [benefitCategoryId], references: [id])
  creator            User?            @relation("CreatedClients", fields: [createdBy], references: [id])

  relations          ClientRelation[] @relation("ClientRelations")
  relatedTo          ClientRelation[] @relation("RelatedClientRelations")
  subscriptions      Subscription[]
  attendances        Attendance[]
  payments           Payment[]
  rentals            Rental[]

  @@index([phone])
  @@index([lastName])
  @@index([status])
  @@index([email])
  @@index([lastActivityAt])
  @@map("clients")
}

model ClientRelation {
  id               String        @id @default(uuid())
  clientId         String        @map("client_id")
  relatedClientId  String        @map("related_client_id")
  relationTypeId   String        @map("relation_type_id")
  createdAt        DateTime      @default(now()) @map("created_at")
  createdBy        String?       @map("created_by")

  client           Client        @relation("ClientRelations", fields: [clientId], references: [id], onDelete: Cascade)
  relatedClient    Client        @relation("RelatedClientRelations", fields: [relatedClientId], references: [id], onDelete: Cascade)
  relationType     RelationType  @relation(fields: [relationTypeId], references: [id])
  creator          User?         @relation(fields: [createdBy], references: [id])

  @@unique([clientId, relatedClientId])
  @@index([clientId])
  @@index([relatedClientId])
  @@map("client_relations")
}

model RelationType {
  id        String   @id @default(uuid())
  name      String   @unique @db.VarChar(100)
  sortOrder Int      @default(0) @map("sort_order")

  relations ClientRelation[]

  @@map("relation_types")
}

model BenefitCategory {
  id                  String   @id @default(uuid())
  name                String   @unique @db.VarChar(100)
  discountPercentage  Decimal  @default(0) @map("discount_percentage") @db.Decimal(5, 2)
  description         String?  @db.Text
  isActive            Boolean  @default(true) @map("is_active")
  sortOrder           Int      @default(0) @map("sort_order")

  clients             Client[]

  @@map("benefit_categories")
}
```

---

## 3. –ö–∞—Ä—Ç–æ—á–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞

### 3.1. –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è

–°–ª–µ–¥—É—é—â–∏–µ –ø–æ–ª—è **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã** –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞:

- **–§–∞–º–∏–ª–∏—è** (last_name) - –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç–æ–π
- **–ò–º—è** (first_name) - –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º
- **–û—Ç—á–µ—Å—Ç–≤–æ** (middle_name) - –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º
- **–¢–µ–ª–µ—Ñ–æ–Ω** (phone) - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–Ω–∏–∫–∞–ª–µ–Ω –∏ –≤–∞–ª–∏–¥–µ–Ω

### 3.2. –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è

- **–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è** (date_of_birth) - –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –≤–æ–∑—Ä–∞—Å—Ç–∞
- **–ü–æ–ª** (gender) - –º—É–∂—Å–∫–æ–π, –∂–µ–Ω—Å–∫–∏–π, –¥—Ä—É–≥–æ–µ
- **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω** (phone_additional)
- **Email** (email) - –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ –æ–Ω–ª–∞–π–Ω-–æ–ø–ª–∞—Ç—ã
- **–ê–¥—Ä–µ—Å** (address) - –ø–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è
- **–î–æ–∫—É–º–µ–Ω—Ç—ã:**
  - –ü–∞—Å–ø–æ—Ä—Ç (passport_number) - —Ñ–æ—Ä–º–∞—Ç: 0000 000000
  - –°–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏ (birth_certificate)
  - –°–ù–ò–õ–° (snils) - —Ñ–æ—Ä–º–∞—Ç: 000-000-000 00
- **–õ—å–≥–æ—Ç–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è** (benefit_category_id) - —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫
- **–ü—Ä–∏–º–µ—á–∞–Ω–∏—è** (notes) - —Å–≤–æ–±–æ–¥–Ω–æ–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ

### 3.3. –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø–æ–ª—è

- **ID** (id) - UUID, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- **–°—Ç–∞—Ç—É—Å** (status) - –∞–∫—Ç–∏–≤–Ω—ã–π/–Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–π
- **–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è** (created_at)
- **–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** (updated_at)
- **–°–æ–∑–¥–∞–ª** (created_by) - —Å—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** (last_activity_at) - –¥–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–æ—Å–µ—â–µ–Ω–∏—è –∏–ª–∏ –æ–ø–ª–∞—Ç—ã

---

## 4. –ë–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã

### 4.1. –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞

**–ê–∫—Ç–æ—Ä:** –ú–µ–Ω–µ–¥–∂–µ—Ä, –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä

**–®–∞–≥–∏:**

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ñ–æ—Ä–º—É "–ù–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç"
2. –ó–∞–ø–æ–ª–Ω—è–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è (–§–∞–º–∏–ª–∏—è, –ò–º—è, –û—Ç—á–µ—Å—Ç–≤–æ, –¢–µ–ª–µ—Ñ–æ–Ω)
3. –ó–∞–ø–æ–ª–Ω—è–µ—Ç –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
4. –ù–∞–∂–∏–º–∞–µ—Ç "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"

**–ü—Ä–æ—Ü–µ—Å—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏:**

```
1. –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
   ‚îú‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
   ‚îú‚îÄ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
   ‚îú‚îÄ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ email (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω)
   ‚îú‚îÄ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞—Ç—ã —Ä–æ–∂–¥–µ–Ω–∏—è (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–∞)
   ‚îî‚îÄ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω—ã)

2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
   ‚îú‚îÄ –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É
   ‚îî‚îÄ –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω ‚Üí –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
       ‚îú‚îÄ "–ö–ª–∏–µ–Ω—Ç —Å —Ç–∞–∫–∏–º —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: [–§–ò–û]"
       ‚îú‚îÄ –ö–Ω–æ–ø–∫–∞ "–û—Ç–∫—Ä—ã—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ"
       ‚îî‚îÄ –ö–Ω–æ–ø–∫–∞ "–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ" (—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º)

3. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
   ‚îú‚îÄ –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ –ë–î
   ‚îú‚îÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ = ACTIVE
   ‚îú‚îÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ created_at, created_by
   ‚îú‚îÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ last_activity_at = —Ç–µ–∫—É—â–∞—è –¥–∞—Ç–∞
   ‚îî‚îÄ –í–æ–∑–≤—Ä–∞—Ç ID —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞

4. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
   ‚îî‚îÄ –ü–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ "–ö–ª–∏–µ–Ω—Ç [–§–ò–û] —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω"
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:**

- `VALIDATION_ERROR` - –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
- `DUPLICATE_WARNING` - –∫–ª–∏–µ–Ω—Ç —Å —Ç–∞–∫–∏–º —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (–Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ)

### 4.2. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞

**–ê–∫—Ç–æ—Ä:** –ú–µ–Ω–µ–¥–∂–µ—Ä, –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä

**–ü—Ä–æ—Ü–µ—Å—Å:**

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –∫–∞—Ä—Ç–æ—á–∫—É –∫–ª–∏–µ–Ω—Ç–∞
2. –ù–∞–∂–∏–º–∞–µ—Ç "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å"
3. –ò–∑–º–µ–Ω—è–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–ª—è
4. –ù–∞–∂–∏–º–∞–µ—Ç "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"

–û–±—Ä–∞–±–æ—Ç–∫–∞:
‚îú‚îÄ –í–∞–ª–∏–¥–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ –ï—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω —Ç–µ–ª–µ—Ñ–æ–Ω ‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
‚îú‚îÄ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ –ë–î
‚îú‚îÄ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ updated_at
‚îú‚îÄ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îî‚îÄ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ "–î–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω—ã"
```

### 4.3. –ê—Ä—Ö–∏–≤–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞

**–ê–∫—Ç–æ—Ä:** –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä, –ú–µ–Ω–µ–¥–∂–µ—Ä

**–ü—Ä–æ—Ü–µ—Å—Å:**

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –∫–∞—Ä—Ç–æ—á–∫—É –∫–ª–∏–µ–Ω—Ç–∞
2. –ù–∞–∂–∏–º–∞–µ—Ç "–ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å"
3. –°–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ

–û–±—Ä–∞–±–æ—Ç–∫–∞:
‚îú‚îÄ –ò–∑–º–µ–Ω–µ–Ω–∏–µ status ‚Üí INACTIVE
‚îú‚îÄ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ updated_at
‚îî‚îÄ –ö–ª–∏–µ–Ω—Ç –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç—Å—è –≤ —Ä–∞–∑–¥–µ–ª "–ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ"

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ –ù–ï –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–æ.
–î–∞–∂–µ –∞—Ä—Ö–∏–≤–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç –≤—Å—é –∏—Å—Ç–æ—Ä–∏—é.
```

### 4.4. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –∞—Ä—Ö–∏–≤–∞

**–ü—Ä–æ—Ü–µ—Å—Å:**

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞—Ö–æ–¥–∏—Ç –∫–ª–∏–µ–Ω—Ç–∞ –≤ —Ä–∞–∑–¥–µ–ª–µ "–ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ"
2. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –∫–∞—Ä—Ç–æ—á–∫—É
3. –ù–∞–∂–∏–º–∞–µ—Ç "–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å"

–û–±—Ä–∞–±–æ—Ç–∫–∞:
‚îú‚îÄ –ò–∑–º–µ–Ω–µ–Ω–∏–µ status ‚Üí ACTIVE
‚îú‚îÄ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ last_activity_at = —Ç–µ–∫—É—â–∞—è –¥–∞—Ç–∞
‚îú‚îÄ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ updated_at
‚îî‚îÄ –ö–ª–∏–µ–Ω—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ "–ê–∫—Ç–∏–≤–Ω—ã–µ"
```

### 4.5. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞

**–¢—Ä–∏–≥–≥–µ—Ä:** –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ (cron), –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ 2:00 –Ω–æ—á–∏

**–ü—Ä–æ—Ü–µ—Å—Å:**

```sql
UPDATE clients
SET status = 'INACTIVE', updated_at = NOW()
WHERE status = 'ACTIVE'
  AND (
    last_activity_at IS NULL
    OR last_activity_at < NOW() - INTERVAL '6 months'
  );
```

**–õ–æ–≥–∏–∫–∞:**

- –ö–ª–∏–µ–Ω—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–º, –µ—Å–ª–∏:
  - –ù–µ—Ç –ø–æ—Å–µ—â–µ–Ω–∏–π –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 6 –º–µ—Å—è—Ü–µ–≤
  - –ò –Ω–µ—Ç –æ–ø–ª–∞—Ç –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 6 –º–µ—Å—è—Ü–µ–≤
- last_activity_at –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏:
  - –ü–æ—Å–µ—â–µ–Ω–∏–∏ –∑–∞–Ω—è—Ç–∏—è
  - –û–ø–ª–∞—Ç–µ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞
  - –†–∞–∑–æ–≤–æ–π –æ–ø–ª–∞—Ç–µ

---

## 5. –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –ª–∏—Ü–∞ (–∫–æ–º–ø–∞–Ω–∏–∏)

### 5.1. –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∞ —Ç–∏–ø–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤:

- **–§–∏–∑–∏—á–µ—Å–∫–∏–µ –ª–∏—Ü–∞ (INDIVIDUAL)** - –æ–±—ã—á–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã
- **–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –ª–∏—Ü–∞ (COMPANY)** - –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏ –∫–æ–º–ø–∞–Ω–∏–∏

**–ö–ª—é—á–µ–≤—ã–µ –æ—Ç–ª–∏—á–∏—è:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –§—É–Ω–∫—Ü–∏—è                 ‚îÇ –§–∏–∑. –ª–∏—Ü–æ      ‚îÇ –Æ—Ä. –ª–∏—Ü–æ        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –ü–æ–∫—É–ø–∫–∞ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤     ‚îÇ ‚úì –î–∞           ‚îÇ ‚úó –ù–µ—Ç           ‚îÇ
‚îÇ –ó–∞–ø–∏—Å—å –Ω–∞ –∑–∞–Ω—è—Ç–∏—è       ‚îÇ ‚úì –î–∞           ‚îÇ ‚úó –ù–µ—Ç           ‚îÇ
‚îÇ –ê—Ä–µ–Ω–¥–∞ –ø–æ–º–µ—â–µ–Ω–∏–π        ‚îÇ ‚úì –î–∞           ‚îÇ ‚úì –î–∞            ‚îÇ
‚îÇ –û–ø–ª–∞—Ç–∞ –Ω–∞–ª–∏—á–Ω—ã–º–∏        ‚îÇ ‚úì –î–∞           ‚îÇ ‚úó –ù–µ—Ç           ‚îÇ
‚îÇ –û–ø–ª–∞—Ç–∞ –±–µ–∑–Ω–∞–ª–∏—á–Ω—ã–º–∏     ‚îÇ ‚úì –î–∞           ‚îÇ ‚úì –î–∞            ‚îÇ
‚îÇ –û–Ω–ª–∞–π–Ω-–æ–ø–ª–∞—Ç–∞           ‚îÇ ‚úì –î–∞           ‚îÇ ‚úì –î–∞            ‚îÇ
‚îÇ –î–æ–≥–æ–≤–æ—Ä –∞—Ä–µ–Ω–¥—ã          ‚îÇ ‚úó –ù–µ—Ç          ‚îÇ ‚úì –î–∞            ‚îÇ
‚îÇ –ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –ª–∏—Ü–∞         ‚îÇ ‚úó –ù–µ—Ç          ‚îÇ ‚úì –î–∞            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 5.2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–∏

#### 5.2.1. –ú–æ–¥–µ–ª—å Client (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è)

```prisma
enum ClientType {
  INDIVIDUAL  // –§–∏–∑–∏—á–µ—Å–∫–æ–µ –ª–∏—Ü–æ
  COMPANY     // –Æ—Ä–∏–¥–∏—á–µ—Å–∫–æ–µ –ª–∏—Ü–æ
}

model Client {
  id              String      @id @default(uuid())
  clientType      ClientType  @default(INDIVIDUAL) @map("client_type")

  // === –ü–æ–ª—è –¥–ª—è —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü ===
  firstName       String?     @map("first_name") @db.VarChar(100)
  lastName        String?     @map("last_name") @db.VarChar(100)
  middleName      String?     @map("middle_name") @db.VarChar(100)
  dateOfBirth     DateTime?   @map("date_of_birth") @db.Date
  gender          Gender?
  passportNumber  String?     @map("passport_number") @db.VarChar(20)
  birthCertificate String?    @map("birth_certificate") @db.VarChar(50)
  snils           String?     @db.VarChar(14)

  // === –ü–æ–ª—è –¥–ª—è —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü ===
  companyName     String?     @map("company_name") @db.VarChar(255)
  inn             String?     // –ò–ù–ù (10 –∏–ª–∏ 12 —Ü–∏—Ñ—Ä)
  kpp             String?     // –ö–ü–ü (9 —Ü–∏—Ñ—Ä)
  ogrn            String?     // –û–ì–†–ù (13 –∏–ª–∏ 15 —Ü–∏—Ñ—Ä)
  legalAddress    String?     @map("legal_address") @db.Text

  // === –ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã (—Ç–æ–ª—å–∫–æ –¥–ª—è –∫–æ–º–ø–∞–Ω–∏–π) ===
  bankAccount           String? @map("bank_account") @db.VarChar(20)
  bankName              String? @map("bank_name") @db.VarChar(255)
  bik                   String? @db.VarChar(9)
  correspondentAccount  String? @map("correspondent_account") @db.VarChar(20)

  // === –û–±—â–∏–µ –ø–æ–ª—è ===
  phone             String      @db.VarChar(20)
  phoneAdditional   String?     @map("phone_additional") @db.VarChar(20)
  email             String?     @db.VarChar(255)
  address           String?     @db.Text
  benefitCategoryId String?     @map("benefit_category_id")
  notes             String?     @db.Text
  status            ClientStatus @default(ACTIVE)
  createdAt         DateTime    @default(now()) @map("created_at")
  updatedAt         DateTime    @updatedAt @map("updated_at")
  createdBy         String?     @map("created_by")
  lastActivityAt    DateTime?   @map("last_activity_at")

  // –°–≤—è–∑–∏
  companyContacts   CompanyContact[]
  rentals           Rental[]

  @@index([clientType])
  @@index([inn])
  @@map("clients")
}
```

#### 5.2.2. –¢–∞–±–ª–∏—Ü–∞ CompanyContact

```prisma
model CompanyContact {
  id          String   @id @default(uuid())
  clientId    String   @map("client_id")
  firstName   String   @map("first_name") @db.VarChar(100)
  lastName    String   @map("last_name") @db.VarChar(100)
  middleName  String?  @map("middle_name") @db.VarChar(100)
  position    String?  @db.VarChar(100)
  phone       String   @db.VarChar(20)
  email       String?  @db.VarChar(255)
  isPrimary   Boolean  @default(false) @map("is_primary")
  notes       String?  @db.Text
  createdAt   DateTime @default(now()) @map("created_at")
  updatedAt   DateTime @updatedAt @map("updated_at")

  client      Client   @relation(fields: [clientId], references: [id], onDelete: Cascade)

  @@index([clientId])
  @@index([isPrimary])
  @@map("company_contacts")
}
```

### 5.3. –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–ª—è –∫–æ–º–ø–∞–Ω–∏–∏

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–º–ø–∞–Ω–∏–∏ (`clientType = COMPANY`) –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–ª—è:

- **–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏** (companyName) - –ø–æ–ª–Ω–æ–µ –∏–ª–∏ —Å–æ–∫—Ä–∞—â–µ–Ω–Ω–æ–µ
- **–ò–ù–ù** (inn) - 10 –∏–ª–∏ 12 —Ü–∏—Ñ—Ä
- **–¢–µ–ª–µ—Ñ–æ–Ω** (phone) - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω
- **–•–æ—Ç—è –±—ã –æ–¥–Ω–æ –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ** - —Å–º. —Ä–∞–∑–¥–µ–ª 5.5

### 5.4. –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–ª—è –∫–æ–º–ø–∞–Ω–∏–∏

- **–ö–ü–ü** (kpp) - –∫–æ–¥ –ø—Ä–∏—á–∏–Ω—ã –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ —É—á–µ—Ç (9 —Ü–∏—Ñ—Ä)
- **–û–ì–†–ù/–û–ì–†–ù–ò–ü** (ogrn) - 13 —Ü–∏—Ñ—Ä –¥–ª—è –Æ–õ, 15 –¥–ª—è –ò–ü
- **–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å** (legalAddress)
- **–§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å** (address) - –µ—Å–ª–∏ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–≥–æ
- **Email** (email) - –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω** (phoneAdditional)
- **–ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã:**
  - –†–∞—Å—á–µ—Ç–Ω—ã–π —Å—á–µ—Ç (bankAccount) - 20 —Ü–∏—Ñ—Ä
  - –ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞ (bankName)
  - –ë–ò–ö (bik) - 9 —Ü–∏—Ñ—Ä
  - –ö–æ—Ä—Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç—Å–∫–∏–π —Å—á–µ—Ç (correspondentAccount) - 20 —Ü–∏—Ñ—Ä
- **–ü—Ä–∏–º–µ—á–∞–Ω–∏—è** (notes)

### 5.5. –ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –ª–∏—Ü–∞

–î–ª—è –∫–∞–∂–¥–æ–π –∫–æ–º–ø–∞–Ω–∏–∏ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã—Ö –ª–∏—Ü.

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞–ª–∏—á–∏–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–≥–æ –ª–∏—Ü–∞.**

#### 5.5.1. –ü–æ–ª—è –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–≥–æ –ª–∏—Ü–∞

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ:**
- –§–∞–º–∏–ª–∏—è (lastName)
- –ò–º—è (firstName)
- –¢–µ–ª–µ—Ñ–æ–Ω (phone)

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ:**
- –û—Ç—á–µ—Å—Ç–≤–æ (middleName)
- –î–æ–ª–∂–Ω–æ—Å—Ç—å (position) - "–î–∏—Ä–µ–∫—Ç–æ—Ä", "–ë—É—Ö–≥–∞–ª—Ç–µ—Ä", "–ú–µ–Ω–µ–¥–∂–µ—Ä" –∏ —Ç.–¥.
- Email (email)
- –ü—Ä–∏–º–µ—á–∞–Ω–∏—è (notes)

**–°–∏—Å—Ç–µ–º–Ω–æ–µ:**
- –û—Å–Ω–æ–≤–Ω–æ–µ –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ (isPrimary) - —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–º–µ—á–µ–Ω–æ –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–µ

#### 5.5.2. –û—Å–Ω–æ–≤–Ω–æ–µ –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ

```
–ü—Ä–∞–≤–∏–ª–æ: –í –∫–æ–º–ø–∞–Ω–∏–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –û–î–ù–û –æ—Å–Ω–æ–≤–Ω–æ–µ –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ.

–ü—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ isPrimary = true –¥–ª—è –Ω–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–∞–∫—Ç–∞:
‚îú‚îÄ –ù–∞–π—Ç–∏ —Ç–µ–∫—É—â–µ–µ –æ—Å–Ω–æ–≤–Ω–æ–µ –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ
‚îú‚îÄ –°–Ω—è—Ç—å —Ñ–ª–∞–≥ isPrimary —É —Ç–µ–∫—É—â–µ–≥–æ
‚îî‚îÄ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å isPrimary –¥–ª—è –Ω–æ–≤–æ–≥–æ
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–∞–∫—Ç–∞:**

- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º –≤ —Å–ø–∏—Å–∫–µ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –¥–æ–≥–æ–≤–æ—Ä–∞—Ö –∞—Ä–µ–Ω–¥—ã
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### 5.6. –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–µ–π –∫–æ–º–ø–∞–Ω–∏–∏

#### 5.6.1. –í–∞–ª–∏–¥–∞—Ü–∏—è –ò–ù–ù

**–ü—Ä–∞–≤–∏–ª–∞:**

- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ –¥–ª—è –∫–æ–º–ø–∞–Ω–∏–π
- 10 —Ü–∏—Ñ—Ä –¥–ª—è —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü
- 12 —Ü–∏—Ñ—Ä –¥–ª—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª–µ–π
- –¢–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã, –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤ –∏ –¥–µ—Ñ–∏—Å–æ–≤

**Regex:**

```regex
^(\d{10}|\d{12})$
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Å—É–º–º—ã:**

```typescript
function validateINN(inn: string): boolean {
  if (!/^(\d{10}|\d{12})$/.test(inn)) {
    return false;
  }

  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Å—É–º–º—ã –¥–ª—è –ò–ù–ù –∏–∑ 10 —Ü–∏—Ñ—Ä
  if (inn.length === 10) {
    const coefficients = [2, 4, 10, 3, 5, 9, 4, 6, 8];
    let sum = 0;
    for (let i = 0; i < 9; i++) {
      sum += parseInt(inn[i]) * coefficients[i];
    }
    const checksum = (sum % 11) % 10;
    return checksum === parseInt(inn[9]);
  }

  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Å—É–º–º—ã –¥–ª—è –ò–ù–ù –∏–∑ 12 —Ü–∏—Ñ—Ä
  if (inn.length === 12) {
    const coefficients1 = [7, 2, 4, 10, 3, 5, 9, 4, 6, 8];
    const coefficients2 = [3, 7, 2, 4, 10, 3, 5, 9, 4, 6, 8];

    let sum1 = 0;
    for (let i = 0; i < 10; i++) {
      sum1 += parseInt(inn[i]) * coefficients1[i];
    }
    const checksum1 = (sum1 % 11) % 10;

    let sum2 = 0;
    for (let i = 0; i < 11; i++) {
      sum2 += parseInt(inn[i]) * coefficients2[i];
    }
    const checksum2 = (sum2 % 11) % 10;

    return checksum1 === parseInt(inn[10]) && checksum2 === parseInt(inn[11]);
  }

  return false;
}
```

**–ü—Ä–∏–º–µ—Ä—ã:**

- `7707083893` ‚úì (–ü–ê–û –°–±–µ—Ä–±–∞–Ω–∫)
- `7707083` ‚úó (–º–∞–ª–æ —Ü–∏—Ñ—Ä)
- `123456789012` ‚úó (–Ω–µ–≤–µ—Ä–Ω–∞—è –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Å—É–º–º–∞)

#### 5.6.2. –í–∞–ª–∏–¥–∞—Ü–∏—è –ö–ü–ü

**–ü—Ä–∞–≤–∏–ª–∞:**

- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø–æ–ª–µ
- –†–æ–≤–Ω–æ 9 —Ü–∏—Ñ—Ä
- –¢–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã

**Regex:**

```regex
^\d{9}$
```

**–ü—Ä–∏–º–µ—Ä—ã:**

- `773601001` ‚úì
- `77360100` ‚úó (–º–∞–ª–æ —Ü–∏—Ñ—Ä)

#### 5.6.3. –í–∞–ª–∏–¥–∞—Ü–∏—è –û–ì–†–ù

**–ü—Ä–∞–≤–∏–ª–∞:**

- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø–æ–ª–µ
- 13 —Ü–∏—Ñ—Ä –¥–ª—è —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü (–û–ì–†–ù)
- 15 —Ü–∏—Ñ—Ä –¥–ª—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª–µ–π (–û–ì–†–ù–ò–ü)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Ü–∏—Ñ—Ä—ã

**Regex:**

```regex
^(\d{13}|\d{15})$
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Ü–∏—Ñ—Ä—ã:**

```typescript
function validateOGRN(ogrn: string): boolean {
  if (!/^(\d{13}|\d{15})$/.test(ogrn)) {
    return false;
  }

  const length = ogrn.length;
  const divider = length === 13 ? 11 : 13;

  const mainPart = ogrn.substring(0, length - 1);
  const checksum = parseInt(ogrn[length - 1]);

  const remainder = (parseInt(mainPart) % divider) % 10;

  return remainder === checksum;
}
```

**–ü—Ä–∏–º–µ—Ä—ã:**

- `1027700132195` ‚úì (–û–ì–†–ù)
- `304500116000157` ‚úì (–û–ì–†–ù–ò–ü)
- `1027700132190` ‚úó (–Ω–µ–≤–µ—Ä–Ω–∞—è –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ü–∏—Ñ—Ä–∞)

#### 5.6.4. –í–∞–ª–∏–¥–∞—Ü–∏—è –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤

**–†–∞—Å—á–µ—Ç–Ω—ã–π —Å—á–µ—Ç:**

```regex
^\d{20}$
```

- –†–æ–≤–Ω–æ 20 —Ü–∏—Ñ—Ä
- –¢–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã

**–ë–ò–ö:**

```regex
^\d{9}$
```

- –†–æ–≤–Ω–æ 9 —Ü–∏—Ñ—Ä
- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å "04" –¥–ª—è —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –±–∞–Ω–∫–æ–≤

**–ö–æ—Ä—Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç—Å–∫–∏–π —Å—á–µ—Ç:**

```regex
^\d{20}$
```

- –†–æ–≤–Ω–æ 20 —Ü–∏—Ñ—Ä
- –û–±—ã—á–Ω–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å "301"

**–ü—Ä–∏–º–µ—Ä—ã:**

```
–†–∞—Å—á–µ—Ç–Ω—ã–π —Å—á–µ—Ç:      40702810400000001234 ‚úì
–ë–ò–ö:                 044525225 ‚úì
–ö–æ—Ä—Ä. —Å—á–µ—Ç:          30101810400000000225 ‚úì
```

### 5.7. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –∫–æ–º–ø–∞–Ω–∏–π

**–ö—Ä–∏—Ç–µ—Ä–∏–π:** –°–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ò–ù–ù

```sql
SELECT id, company_name, inn, phone, status
FROM clients
WHERE client_type = 'COMPANY'
  AND inn = :inn
  AND id != :current_client_id;
```

**UI –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‚ö†Ô∏è  –í–æ–∑–º–æ–∂–Ω—ã–π –¥—É–±–ª–∏–∫–∞—Ç                       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –ö–æ–º–ø–∞–Ω–∏—è —Å —Ç–∞–∫–∏–º –ò–ù–ù —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:         ‚îÇ
‚îÇ                                              ‚îÇ
‚îÇ –û–û–û "–†–æ–≥–∞ –∏ –∫–æ–ø—ã—Ç–∞"                          ‚îÇ
‚îÇ –ò–ù–ù: 7707083893                              ‚îÇ
‚îÇ –¢–µ–ª–µ—Ñ–æ–Ω: +7 (999) 123-45-67                  ‚îÇ
‚îÇ –°—Ç–∞—Ç—É—Å: –ê–∫—Ç–∏–≤–Ω—ã–π                             ‚îÇ
‚îÇ –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: 15.03.2024                 ‚îÇ
‚îÇ                                              ‚îÇ
‚îÇ [–û—Ç–∫—Ä—ã—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é]  [–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é]      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 5.8. –ë–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã —Å –∫–æ–º–ø–∞–Ω–∏—è–º–∏

#### 5.8.1. –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏

**–ü—Ä–æ—Ü–µ—Å—Å:**

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "+ –ù–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç"
2. –í—ã–±–∏—Ä–∞–µ—Ç —Ç–∏–ø: "–Æ—Ä–∏–¥–∏—á–µ—Å–∫–æ–µ –ª–∏—Ü–æ"
3. –ó–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É:
   ‚îú‚îÄ –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ *
   ‚îú‚îÄ –ò–ù–ù *
   ‚îú‚îÄ –ö–ü–ü
   ‚îú‚îÄ –û–ì–†–ù
   ‚îú‚îÄ –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å
   ‚îú‚îÄ –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å
   ‚îú‚îÄ –¢–µ–ª–µ—Ñ–æ–Ω *
   ‚îú‚îÄ Email
   ‚îú‚îÄ –ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã (—Ä–∞–∑–¥–µ–ª)
   ‚îî‚îÄ –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

4. –î–æ–±–∞–≤–ª—è–µ—Ç –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ:
   ‚îú‚îÄ –§–∞–º–∏–ª–∏—è *
   ‚îú‚îÄ –ò–º—è *
   ‚îú‚îÄ –û—Ç—á–µ—Å—Ç–≤–æ
   ‚îú‚îÄ –î–æ–ª–∂–Ω–æ—Å—Ç—å
   ‚îú‚îÄ –¢–µ–ª–µ—Ñ–æ–Ω *
   ‚îú‚îÄ Email
   ‚îî‚îÄ [–û—Å–Ω–æ–≤–Ω–æ–µ –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ ‚òê]

5. –ù–∞–∂–∏–º–∞–µ—Ç "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"

–í–∞–ª–∏–¥–∞—Ü–∏—è:
‚îú‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
‚îú‚îÄ –í–∞–ª–∏–¥–∞—Ü–∏—è –ò–ù–ù (—Ñ–æ—Ä–º–∞—Ç + –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Å—É–º–º–∞)
‚îú‚îÄ –í–∞–ª–∏–¥–∞—Ü–∏—è –ö–ü–ü, –û–ì–†–ù (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω—ã)
‚îú‚îÄ –í–∞–ª–∏–¥–∞—Ü–∏—è –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤ (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω—ã)
‚îú‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –ø–æ –ò–ù–ù
‚îú‚îÄ –ù–∞–ª–∏—á–∏–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–≥–æ –ª–∏—Ü–∞
‚îî‚îÄ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ –∏ email

–ï—Å–ª–∏ OK:
‚îú‚îÄ –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ Client —Å clientType = COMPANY
‚îú‚îÄ –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π CompanyContact
‚îú‚îÄ –ï—Å–ª–∏ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ ‚Üí isPrimary = true –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
‚îî‚îÄ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ "–ö–æ–º–ø–∞–Ω–∏—è [–Ω–∞–∑–≤–∞–Ω–∏–µ] —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞"
```

#### 5.8.2. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—é —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –ª–∏—Ü–∞, –Ω–æ —Å –ø–æ–ª—è–º–∏ –∫–æ–º–ø–∞–Ω–∏–∏.

#### 5.8.3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–º–∏ –ª–∏—Ü–∞–º–∏

**–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞:**

```
1. –û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É –∫–æ–º–ø–∞–Ω–∏–∏
2. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –ª–∏—Ü–∞"
3. –ù–∞–∂–∞—Ç—å "+ –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ"
4. –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É
5. [–û—Å–Ω–æ–≤–Ω–æ–µ –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ ‚òë] - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
6. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
```

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–∞–∫—Ç–∞:**

```
1. –í —Å–ø–∏—Å–∫–µ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã—Ö –ª–∏—Ü –Ω–∞–∂–∞—Ç—å "–°–¥–µ–ª–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–º" —Ä—è–¥–æ–º —Å –Ω—É–∂–Ω—ã–º
2. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
   ‚îú‚îÄ –°–Ω–∏–º–∞–µ—Ç —Ñ–ª–∞–≥ isPrimary —Å —Ç–µ–∫—É—â–µ–≥–æ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ
   ‚îî‚îÄ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç isPrimary –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ
```

**–£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞:**

```
–ü—Ä–∞–≤–∏–ª–æ: –ù–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–µ–µ –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ.

–ï—Å–ª–∏ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ > 1:
‚îú‚îÄ –ú–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å
‚îî‚îÄ –ï—Å–ª–∏ —É–¥–∞–ª—è–µ—Ç—Å—è –æ—Å–Ω–æ–≤–Ω–æ–π ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–∑–Ω–∞—á–∏—Ç—å –¥—Ä—É–≥–æ–π –æ—Å–Ω–æ–≤–Ω—ã–º

–ï—Å–ª–∏ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ = 1:
‚îî‚îÄ –ü–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É "–ù–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ"
```

### 5.9. –û—Ç–ª–∏—á–∏—è –≤ UI/UX

#### 5.9.1. –°–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤

**–í–∏–∑—É–∞–ª—å–Ω–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –§–ò–û / –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ      ‚îÇ –¢–µ–ª–µ—Ñ–æ–Ω         ‚îÇ –¢–∏–ø    ‚îÇ –°—Ç–∞—Ç—É—Å‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ üë§ –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω         ‚îÇ +7 999 123-45-67‚îÇ –§–∏–∑.–ª. ‚îÇ –ê–∫—Ç–∏–≤.‚îÇ
‚îÇ üè¢ –û–û–û "–†–æ–≥–∞ –∏ –∫–æ–ø—ã—Ç–∞" ‚îÇ +7 999 765-43-21‚îÇ –Æ—Ä.–ª.  ‚îÇ –ê–∫—Ç–∏–≤.‚îÇ
‚îÇ üë§ –ü–µ—Ç—Ä–æ–≤–∞ –ú–∞—Ä–∏—è       ‚îÇ +7 999 111-22-33‚îÇ –§–∏–∑.–ª. ‚îÇ –ù–µ–∞–∫—Ç.‚îÇ
‚îÇ üè¢ –ò–ü –°–∏–¥–æ—Ä–æ–≤ –ü.–°.     ‚îÇ +7 999 555-66-77‚îÇ –Æ—Ä.–ª.  ‚îÇ –ê–∫—Ç–∏–≤.‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ò–∫–æ–Ω–∫–∏:**
- üë§ - —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ –ª–∏—Ü–æ
- üè¢ - —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–µ –ª–∏—Ü–æ

#### 5.9.2. –ö–∞—Ä—Ç–æ—á–∫–∞ –∫–æ–º–ø–∞–Ω–∏–∏

**–í–∫–ª–∞–¥–∫–∏:**

```
[–û–±—â–∏–µ –¥–∞–Ω–Ω—ã–µ] [–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –ª–∏—Ü–∞] [–ò—Å—Ç–æ—Ä–∏—è –∞—Ä–µ–Ω–¥—ã] [–ü–ª–∞—Ç–µ–∂–∏] [–î–æ–≥–æ–≤–æ—Ä—ã]
```

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤–∫–ª–∞–¥–∫–∏ "–û–±—â–∏–µ –¥–∞–Ω–Ω—ã–µ":**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üè¢ –û–û–û "–†–æ–≥–∞ –∏ –∫–æ–ø—ã—Ç–∞"                  [–î–µ–π—Å—Ç–≤–∏—è ‚ñº]       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                            ‚îÇ
‚îÇ –†–µ–∫–≤–∏–∑–∏—Ç—ã –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏                                      ‚îÇ
‚îÇ ‚îú‚îÄ –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ: –û–û–û "–†–æ–≥–∞ –∏ –∫–æ–ø—ã—Ç–∞"                       ‚îÇ
‚îÇ ‚îú‚îÄ –ò–ù–ù: 7707083893                                         ‚îÇ
‚îÇ ‚îú‚îÄ –ö–ü–ü: 773601001                                          ‚îÇ
‚îÇ ‚îú‚îÄ –û–ì–†–ù: 1027700132195                                     ‚îÇ
‚îÇ ‚îú‚îÄ –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å: –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥.1          ‚îÇ
‚îÇ ‚îî‚îÄ –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å: –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ü—É—à–∫–∏–Ω–∞, –¥.2         ‚îÇ
‚îÇ                                                            ‚îÇ
‚îÇ –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è                                      ‚îÇ
‚îÇ ‚îú‚îÄ –¢–µ–ª–µ—Ñ–æ–Ω: +7 (999) 123-45-67                            ‚îÇ
‚îÇ ‚îú‚îÄ –î–æ–ø. —Ç–µ–ª–µ—Ñ–æ–Ω: +7 (999) 765-43-21                       ‚îÇ
‚îÇ ‚îî‚îÄ Email: info@rogakopita.ru                              ‚îÇ
‚îÇ                                                            ‚îÇ
‚îÇ –ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã                                       ‚îÇ
‚îÇ ‚îú‚îÄ –†–∞—Å—á–µ—Ç–Ω—ã–π —Å—á–µ—Ç: 40702810400000001234                   ‚îÇ
‚îÇ ‚îú‚îÄ –ë–∞–Ω–∫: –ü–ê–û –°–±–µ—Ä–±–∞–Ω–∫                                     ‚îÇ
‚îÇ ‚îú‚îÄ –ë–ò–ö: 044525225                                         ‚îÇ
‚îÇ ‚îî‚îÄ –ö–æ—Ä—Ä. —Å—á–µ—Ç: 30101810400000000225                       ‚îÇ
‚îÇ                                                            ‚îÇ
‚îÇ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ                                              ‚îÇ
‚îÇ ‚îú‚îÄ –°—Ç–∞—Ç—É—Å: –ê–∫—Ç–∏–≤–Ω—ã–π                                        ‚îÇ
‚îÇ ‚îî‚îÄ –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: 15.03.2024                           ‚îÇ
‚îÇ                                                            ‚îÇ
‚îÇ –ü—Ä–∏–º–µ—á–∞–Ω–∏—è                                                 ‚îÇ
‚îÇ –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç –∞—Ä–µ–Ω–¥—É –ø–æ –ø—è—Ç–Ω–∏—Ü–∞–º –Ω–∞ –≤–µ—á–µ—Ä                  ‚îÇ
‚îÇ                                                            ‚îÇ
‚îÇ                                     [–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å]        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–í–∫–ª–∞–¥–∫–∞ "–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –ª–∏—Ü–∞":**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –ª–∏—Ü–∞                   [+ –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç]     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                            ‚îÇ
‚îÇ ‚≠ê –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤–∏—á (–û—Å–Ω–æ–≤–Ω–æ–π)                         ‚îÇ
‚îÇ    –î–æ–ª–∂–Ω–æ—Å—Ç—å: –ì–µ–Ω–µ—Ä–∞–ª—å–Ω—ã–π –¥–∏—Ä–µ–∫—Ç–æ—Ä                         ‚îÇ
‚îÇ    –¢–µ–ª–µ—Ñ–æ–Ω: +7 (999) 123-45-67                            ‚îÇ
‚îÇ    Email: ivanov@rogakopita.ru                            ‚îÇ
‚îÇ    [–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å] [–£–¥–∞–ª–∏—Ç—å]                              ‚îÇ
‚îÇ                                                            ‚îÇ
‚îÇ –ü–µ—Ç—Ä–æ–≤–∞ –ú–∞—Ä–∏—è –°–µ—Ä–≥–µ–µ–≤–Ω–∞                                    ‚îÇ
‚îÇ    –î–æ–ª–∂–Ω–æ—Å—Ç—å: –ì–ª–∞–≤–Ω—ã–π –±—É—Ö–≥–∞–ª—Ç–µ—Ä                            ‚îÇ
‚îÇ    –¢–µ–ª–µ—Ñ–æ–Ω: +7 (999) 111-22-33                            ‚îÇ
‚îÇ    Email: petrova@rogakopita.ru                           ‚îÇ
‚îÇ    [–°–¥–µ–ª–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–º] [–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å] [–£–¥–∞–ª–∏—Ç—å]           ‚îÇ
‚îÇ                                                            ‚îÇ
‚îÇ –°–∏–¥–æ—Ä–æ–≤ –ü–µ—Ç—Ä –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á                                 ‚îÇ
‚îÇ    –î–æ–ª–∂–Ω–æ—Å—Ç—å: –ú–µ–Ω–µ–¥–∂–µ—Ä                                     ‚îÇ
‚îÇ    –¢–µ–ª–µ—Ñ–æ–Ω: +7 (999) 555-66-77                            ‚îÇ
‚îÇ    [–°–¥–µ–ª–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–º] [–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å] [–£–¥–∞–ª–∏—Ç—å]           ‚îÇ
‚îÇ                                                            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 5.10. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –º–æ–¥—É–ª–µ–º –∞—Ä–µ–Ω–¥—ã

#### 5.10.1. –ê—Ä–µ–Ω–¥–∞ –ø–æ–º–µ—â–µ–Ω–∏–π –∫–æ–º–ø–∞–Ω–∏–µ–π

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∞—Ä–µ–Ω–¥—ã –¥–ª—è –∫–æ–º–ø–∞–Ω–∏–∏:

```
1. –í—ã–±–æ—Ä –∫–ª–∏–µ–Ω—Ç–∞ ‚Üí –ö–æ–º–ø–∞–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è
2. –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π –∞—Ä–µ–Ω–¥—ã (–ø–æ–º–µ—â–µ–Ω–∏–µ, –¥–∞—Ç–∞, –≤—Ä–µ–º—è, —Å—Ç–æ–∏–º–æ—Å—Ç—å)
3. –°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã:
   ‚îú‚îÄ ‚úó –ù–∞–ª–∏—á–Ω—ã–µ (–Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –∫–æ–º–ø–∞–Ω–∏–π)
   ‚îú‚îÄ ‚úì –ë–µ–∑–Ω–∞–ª–∏—á–Ω—ã–π —Ä–∞—Å—á–µ—Ç
   ‚îî‚îÄ ‚úì –û–Ω–ª–∞–π–Ω-–æ–ø–ª–∞—Ç–∞
4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –¥–æ–≥–æ–≤–æ—Ä–∞ –∞—Ä–µ–Ω–¥—ã
```

#### 5.10.2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–≥–æ–≤–æ—Ä–∞ –∞—Ä–µ–Ω–¥—ã

–°–º. –º–æ–¥—É–ª—å "–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ" ‚Üí –†–∞–∑–¥–µ–ª "–î–æ–≥–æ–≤–æ—Ä—ã –∞—Ä–µ–Ω–¥—ã"

**–î–∞–Ω–Ω—ã–µ –∏–∑ –∫–∞—Ä—Ç–æ—á–∫–∏ –∫–æ–º–ø–∞–Ω–∏–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ –¥–æ–≥–æ–≤–æ—Ä–µ:**

- –ü–æ–ª–Ω–æ–µ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- –ò–ù–ù, –ö–ü–ü, –û–ì–†–ù
- –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å
- –ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã
- –û—Å–Ω–æ–≤–Ω–æ–µ –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ (–§–ò–û, –¥–æ–ª–∂–Ω–æ—Å—Ç—å)

### 5.11. API Endpoints –¥–ª—è –∫–æ–º–ø–∞–Ω–∏–π

#### POST /api/clients (—Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏)

**Request Body:**

```json
{
  "clientType": "COMPANY",
  "companyName": "–û–û–û \"–†–æ–≥–∞ –∏ –∫–æ–ø—ã—Ç–∞\"",
  "inn": "7707083893",
  "kpp": "773601001",
  "ogrn": "1027700132195",
  "legalAddress": "–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥.1",
  "phone": "+79991234567",
  "email": "info@rogakopita.ru",
  "bankAccount": "40702810400000001234",
  "bankName": "–ü–ê–û –°–±–µ—Ä–±–∞–Ω–∫",
  "bik": "044525225",
  "correspondentAccount": "30101810400000000225",
  "notes": "–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç –∞—Ä–µ–Ω–¥—É –ø–æ –ø—è—Ç–Ω–∏—Ü–∞–º",
  "contacts": [
    {
      "lastName": "–ò–≤–∞–Ω–æ–≤",
      "firstName": "–ò–≤–∞–Ω",
      "middleName": "–ü–µ—Ç—Ä–æ–≤–∏—á",
      "position": "–ì–µ–Ω–µ—Ä–∞–ª—å–Ω—ã–π –¥–∏—Ä–µ–∫—Ç–æ—Ä",
      "phone": "+79991234567",
      "email": "ivanov@rogakopita.ru",
      "isPrimary": true
    }
  ]
}
```

**Response:**

```json
{
  "id": "uuid",
  "clientType": "COMPANY",
  "companyName": "–û–û–û \"–†–æ–≥–∞ –∏ –∫–æ–ø—ã—Ç–∞\"",
  "inn": "7707083893",
  "contacts": [
    {
      "id": "uuid",
      "fullName": "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤–∏—á",
      "isPrimary": true
    }
  ],
  "createdAt": "2024-11-15T12:00:00Z"
}
```

#### GET /api/clients/:id/contacts

–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã—Ö –ª–∏—Ü –∫–æ–º–ø–∞–Ω–∏–∏

**Response:**

```json
{
  "data": [
    {
      "id": "uuid",
      "lastName": "–ò–≤–∞–Ω–æ–≤",
      "firstName": "–ò–≤–∞–Ω",
      "middleName": "–ü–µ—Ç—Ä–æ–≤–∏—á",
      "position": "–ì–µ–Ω–µ—Ä–∞–ª—å–Ω—ã–π –¥–∏—Ä–µ–∫—Ç–æ—Ä",
      "phone": "+79991234567",
      "email": "ivanov@rogakopita.ru",
      "isPrimary": true,
      "createdAt": "2024-11-15T12:00:00Z"
    }
  ]
}
```

#### POST /api/clients/:id/contacts

–î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ

#### PATCH /api/clients/:id/contacts/:contactId

–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ

#### DELETE /api/clients/:id/contacts/:contactId

–£–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ (—Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–µ)

#### POST /api/clients/:id/contacts/:contactId/set-primary

–°–¥–µ–ª–∞—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ª–∏—Ü–æ –æ—Å–Ω–æ–≤–Ω—ã–º

---

## 6. –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### 6.1. –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞

**–ü—Ä–∞–≤–∏–ª–∞:**

- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ
- –†–æ—Å—Å–∏–π—Å–∫–∏–π —Ñ–æ—Ä–º–∞—Ç
- –§–æ—Ä–º–∞—Ç—ã: `+7XXXXXXXXXX`, `8XXXXXXXXXX`, `+7 (XXX) XXX-XX-XX`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∫ —Ñ–æ—Ä–º–∞—Ç—É `+7XXXXXXXXXX`

**Regex:**

```regex
^(\+7|8)?[\s-]?\(?[489]\d{2}\)?[\s-]?\d{3}[\s-]?\d{2}[\s-]?\d{2}$
```

**–ü—Ä–∏–º–µ—Ä—ã –≤–∞–ª–∏–¥–Ω—ã—Ö:**

- `+79991234567`
- `89991234567`
- `+7 (999) 123-45-67`
- `8 999 123 45 67`

**–û–±—Ä–∞–±–æ—Ç–∫–∞:**

```typescript
function normalizePhone(phone: string): string {
  // –£–¥–∞–ª–∏—Ç—å –≤—Å–µ —Å–∏–º–≤–æ–ª—ã –∫—Ä–æ–º–µ —Ü–∏—Ñ—Ä –∏ +
  const cleaned = phone.replace(/[^\d+]/g, '');

  // –ï—Å–ª–∏ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 8, –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ +7
  if (cleaned.startsWith('8')) {
    return '+7' + cleaned.substring(1);
  }

  // –ï—Å–ª–∏ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 7, –¥–æ–±–∞–≤–∏—Ç—å +
  if (cleaned.startsWith('7')) {
    return '+' + cleaned;
  }

  // –ï—Å–ª–∏ —É–∂–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å +7
  if (cleaned.startsWith('+7')) {
    return cleaned;
  }

  throw new ValidationError('–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ç–µ–ª–µ—Ñ–æ–Ω–∞');
}
```

### 6.2. –í–∞–ª–∏–¥–∞—Ü–∏—è Email

**–ü—Ä–∞–≤–∏–ª–∞:**

- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø–æ–ª–µ
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç email
- –ù–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É (—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ lowercase)

**Regex:**

```regex
^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$
```

**–ü—Ä–∏–º–µ—Ä—ã –≤–∞–ª–∏–¥–Ω—ã—Ö:**

- `user@example.com`
- `ivan.petrov@mail.ru`
- `client_123@gmail.com`

### 6.3. –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞—Ç—ã —Ä–æ–∂–¥–µ–Ω–∏—è

**–ü—Ä–∞–≤–∏–ª–∞:**

- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø–æ–ª–µ
- –ù–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –±—É–¥—É—â–µ–º
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç: 0 –ª–µ—Ç (–Ω–æ–≤–æ—Ä–æ–∂–¥–µ–Ω–Ω—ã–π)
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç: 120 –ª–µ—Ç

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**

```typescript
function validateDateOfBirth(date: Date): boolean {
  const today = new Date();
  const age = today.getFullYear() - date.getFullYear();

  if (date > today) {
    throw new ValidationError('–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –±—É–¥—É—â–µ–º');
  }

  if (age > 120) {
    throw new ValidationError('–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è');
  }

  return true;
}
```

### 6.4. –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Å–ø–æ—Ä—Ç–∞

**–§–æ—Ä–º–∞—Ç:** `SSSS NNNNNN` (4 —Ü–∏—Ñ—Ä—ã —Å–µ—Ä–∏—è, 6 —Ü–∏—Ñ—Ä –Ω–æ–º–µ—Ä)

**Regex:**

```regex
^\d{4}\s?\d{6}$
```

**–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è:** `4509 123456`

**–ü—Ä–∏–º–µ—Ä—ã:**

- `4509 123456` ‚úì
- `4509123456` ‚úì (–±—É–¥–µ—Ç –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω)
- `45-09 123456` ‚úó

### 6.5. –í–∞–ª–∏–¥–∞—Ü–∏—è –°–ù–ò–õ–°

**–§–æ—Ä–º–∞—Ç:** `XXX-XXX-XXX YY` (11 —Ü–∏—Ñ—Ä —Å –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–º —á–∏—Å–ª–æ–º)

**Regex:**

```regex
^\d{3}-?\d{3}-?\d{3}\s?\d{2}$
```

**–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è:** `123-456-789 01`

**–ü—Ä–∏–º–µ—Ä—ã:**

- `123-456-789 01` ‚úì
- `12345678901` ‚úì (–±—É–¥–µ—Ç –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω)

---

## 7. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤

### 7.1. –ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏

**–ö—Ä–∏—Ç–µ—Ä–∏–π:** –°–æ–≤–ø–∞–¥–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞

**–ö–æ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:**

- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞

### 7.2. –ü—Ä–æ—Ü–µ—Å—Å –ø—Ä–æ–≤–µ—Ä–∫–∏

```sql
SELECT id, last_name, first_name, middle_name, status
FROM clients
WHERE phone = :normalized_phone
  AND id != :current_client_id;
```

### 7.3. UI –ø–æ–≤–µ–¥–µ–Ω–∏–µ

**–ï—Å–ª–∏ –¥—É–±–ª–∏–∫–∞—Ç –Ω–∞–π–¥–µ–Ω:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‚ö†Ô∏è  –í–æ–∑–º–æ–∂–Ω—ã–π –¥—É–±–ª–∏–∫–∞—Ç                       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –ö–ª–∏–µ–Ω—Ç —Å —Ç–∞–∫–∏–º —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:     ‚îÇ
‚îÇ                                              ‚îÇ
‚îÇ –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á                         ‚îÇ
‚îÇ –¢–µ–ª–µ—Ñ–æ–Ω: +7 (999) 123-45-67                  ‚îÇ
‚îÇ –°—Ç–∞—Ç—É—Å: –ê–∫—Ç–∏–≤–Ω—ã–π                             ‚îÇ
‚îÇ –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: 15.03.2024                 ‚îÇ
‚îÇ                                              ‚îÇ
‚îÇ [–û—Ç–∫—Ä—ã—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ]  [–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ]    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–î–µ–π—Å—Ç–≤–∏—è:**

- **"–û—Ç–∫—Ä—ã—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ"** ‚Üí –ü–µ—Ä–µ—Ö–æ–¥ –∫ –∫–∞—Ä—Ç–æ—á–∫–µ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
- **"–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ"** ‚Üí –°–æ–∑–¥–∞–Ω–∏–µ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º
  - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ: "–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–æ–∑–¥–∞—Ç—å –¥—É–±–ª–∏–∫–∞—Ç?"

### 7.4. –°–ª—É—á–∞–∏ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤

**–†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –¥—É–±–ª–∏–∫–∞—Ç–æ–≤:**

- –û–¥–Ω–æ—Ñ–∞–º–∏–ª—å—Ü—ã –≤ –æ–¥–Ω–æ–π —Å–µ–º—å–µ (–æ—Ç–µ—Ü –∏ —Å—ã–Ω —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º)
- –ë—ã–≤—à–∏–π –∫–ª–∏–µ–Ω—Ç –≤–µ—Ä–Ω—É–ª—Å—è, –Ω–æ —Ö–æ—á–µ—Ç –Ω–æ–≤—É—é –∫–∞—Ä—Ç–æ—á–∫—É
- –û—à–∏–±–∫–∞ –≤–≤–æ–¥–∞ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ

---

## 8. –†–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–≤—è–∑–∏

### 8.1. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–†–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–≤—è–∑–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è **—Ç–æ–ª—å–∫–æ –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏**. –û–Ω–∏ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞:

- –°–∫–∏–¥–∫–∏ (–Ω–µ—Ç —Å–µ–º–µ–π–Ω—ã—Ö —Å–∫–∏–¥–æ–∫ –≤ —Å–∏—Å—Ç–µ–º–µ)
- –û–ø–ª–∞—Ç—ã (–∫–∞–∂–¥—ã–π –ø–ª–∞—Ç–∏—Ç –æ—Ç–¥–µ–ª—å–Ω–æ)
- –ê–±–æ–Ω–µ–º–µ–Ω—Ç—ã (–Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –º–µ–∂–¥—É —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞–º–∏)

### 8.2. –°–æ–∑–¥–∞–Ω–∏–µ —Å–≤—è–∑–∏

**–ü—Ä–æ—Ü–µ—Å—Å:**

```
1. –û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É –∫–ª–∏–µ–Ω—Ç–∞ A
2. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–†–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–∏"
3. –ù–∞–∂–∞—Ç—å "+ –î–æ–±–∞–≤–∏—Ç—å —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞"
4. –í –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ:
   ‚îú‚îÄ –í—ã–±—Ä–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ B –∏–∑ —Å–ø–∏—Å–∫–∞ (–ø–æ–∏—Å–∫)
   ‚îú‚îÄ –í—ã–±—Ä–∞—Ç—å —Å—Ç–µ–ø–µ–Ω—å —Ä–æ–¥—Å—Ç–≤–∞
   ‚îî‚îÄ –ù–∞–∂–∞—Ç—å "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"

–°–æ–∑–¥–∞–µ—Ç—Å—è —Å–≤—è–∑—å:
Client A ‚Üí [–°—Ç–µ–ø–µ–Ω—å —Ä–æ–¥—Å—Ç–≤–∞] ‚Üí Client B

–ü—Ä–∏–º–µ—Ä—ã:
- –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤ ‚Üí [–†–æ–¥–∏—Ç–µ–ª—å] ‚Üí –ü–µ—Ç—Ä –ò–≤–∞–Ω–æ–≤
- –ú–∞—Ä–∏—è –ü–µ—Ç—Ä–æ–≤–∞ ‚Üí [–°—É–ø—Ä—É–≥–∞] ‚Üí –ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤
- –ê–Ω–Ω–∞ –°–∏–¥–æ—Ä–æ–≤–∞ ‚Üí [–°–µ—Å—Ç—Ä–∞] ‚Üí –ï–ª–µ–Ω–∞ –°–∏–¥–æ—Ä–æ–≤–∞
```

### 8.3. –î–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ—Å—Ç—å

**–í–æ–ø—Ä–æ—Å:** –°–æ–∑–¥–∞–≤–∞—Ç—å –ª–∏ –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏?

**–†–µ—à–µ–Ω–∏–µ:** –ù–µ—Ç, —Å–≤—è–∑–∏ –æ–¥–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ.

**–ü—Ä–∏—á–∏–Ω–∞:**

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∞–º —Ä–µ—à–∞–µ—Ç, –∫–∞–∫–∏–µ —Å–≤—è–∑–∏ –≤–∞–∂–Ω—ã
- –ò–∑–±–µ–≥–∞–µ–º –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –£–ø—Ä–æ—â–∞–µ–º –ª–æ–≥–∏–∫—É

**–ü—Ä–∏–º–µ—Ä:**

```
–°–æ–∑–¥–∞–Ω–æ –≤—Ä—É—á–Ω—É—é:
–ò–≤–∞–Ω (–†–æ–¥–∏—Ç–µ–ª—å) ‚Üí –ú–∞—Ä–∏—è

–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ù–ï —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
–ï—Å–ª–∏ –Ω—É–∂–Ω–æ, —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é:
–ú–∞—Ä–∏—è (–†–µ–±–µ–Ω–æ–∫) ‚Üí –ò–≤–∞–Ω
```

### 8.4. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ

**–í –∫–∞—Ä—Ç–æ—á–∫–µ –∫–ª–∏–µ–Ω—Ç–∞:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üë®‚Äçüë©‚Äçüëß‚Äçüë¶ –†–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–∏                         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –†–æ–¥–∏—Ç–µ–ª—å:                               ‚îÇ
‚îÇ   ‚Üí –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á                ‚îÇ
‚îÇ      +7 (999) 123-45-67                 ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ –†–µ–±–µ–Ω–æ–∫:                                ‚îÇ
‚îÇ   ‚Üí –ò–≤–∞–Ω–æ–≤–∞ –ê–Ω–Ω–∞ –ò–≤–∞–Ω–æ–≤–Ω–∞               ‚îÇ
‚îÇ      +7 (999) 987-65-43                 ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ [+ –î–æ–±–∞–≤–∏—Ç—å —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞]               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 8.5. –£–¥–∞–ª–µ–Ω–∏–µ —Å–≤—è–∑–∏

```
1. –ù–∞–∂–∞—Ç—å –Ω–∞ –∏–∫–æ–Ω–∫—É "—É–¥–∞–ª–∏—Ç—å" —Ä—è–¥–æ–º —Å —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–º
2. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ: "–£–¥–∞–ª–∏—Ç—å —Å–≤—è–∑—å —Å [–§–ò–û]?"
3. –°–≤—è–∑—å —É–¥–∞–ª—è–µ—Ç—Å—è

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –£–¥–∞–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–≤—è–∑—å, –Ω–µ –∫–ª–∏–µ–Ω—Ç.
```

---

## 9. –ò—Å—Ç–æ—Ä–∏—è –∫–ª–∏–µ–Ω—Ç–∞

### 9.1. –ß—Ç–æ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è

–ò—Å—Ç–æ—Ä–∏—è –∫–ª–∏–µ–Ω—Ç–∞ –≤–∫–ª—é—á–∞–µ—Ç —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª–∞:

#### 9.1.1. –ü–æ—Å–µ—â–µ–Ω–∏—è

**–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:** –¢–∞–±–ª–∏—Ü–∞ `attendances`

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è:**

- –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –∑–∞–Ω—è—Ç–∏—è
- –ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç—É–¥–∏–∏/–≥—Ä—É–ø–ø—ã
- –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å
- –ü–æ–º–µ—â–µ–Ω–∏–µ
- –°—Ç–∞—Ç—É—Å –ø–æ—Å–µ—â–µ–Ω–∏—è (–ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª, –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª, –æ—Ç–º–µ–Ω–µ–Ω–æ)
- –°–ø–∏—Å–∞–Ω–æ —Å –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞ –∏–ª–∏ —Ä–∞–∑–æ–≤–∞—è –æ–ø–ª–∞—Ç–∞

**–ü—Ä–∏–º–µ—Ä:**

```
15.11.2024 18:00 - –¢–∞–Ω—Ü–µ–≤–∞–ª—å–Ω–∞—è —Å—Ç—É–¥–∏—è "–†–∏—Ç–º", –ì—Ä—É–ø–ø–∞ "–ù–∞—á–∏–Ω–∞—é—â–∏–µ"
–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å: –ò–≤–∞–Ω–æ–≤–∞ –ú.–ü.
–ü–æ–º–µ—â–µ–Ω–∏–µ: –ó–∞–ª ‚Ññ1
–°—Ç–∞—Ç—É—Å: –ü—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª ‚úì
–°–ø–∏—Å–∞–Ω–æ: –ê–±–æ–Ω–µ–º–µ–Ω—Ç ‚Ññ456
```

#### 9.1.2. –û–ø–ª–∞—Ç—ã –∏ –ø–æ–∫—É–ø–∫–∏

**–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:** –¢–∞–±–ª–∏—Ü–∞ `payments`

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è:**

- –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –æ–ø–ª–∞—Ç—ã
- –°—É–º–º–∞
- –¢–∏–ø (–∞–±–æ–Ω–µ–º–µ–Ω—Ç, —Ä–∞–∑–æ–≤–æ–µ –ø–æ—Å–µ—â–µ–Ω–∏–µ, –∞—Ä–µ–Ω–¥–∞)
- –°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã (–Ω–∞–ª–∏—á–Ω—ã–µ, –±–µ–∑–Ω–∞–ª–∏—á–Ω—ã–µ, –æ–Ω–ª–∞–π–Ω)
- –°—Ç–∞—Ç—É—Å –ø–ª–∞—Ç–µ–∂–∞
- –ß–µ–∫/–∫–≤–∏—Ç–∞–Ω—Ü–∏—è (—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ)

**–ü—Ä–∏–º–µ—Ä:**

```
14.11.2024 15:30 - –ü–æ–∫—É–ø–∫–∞ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞
–ê–±–æ–Ω–µ–º–µ–Ω—Ç: "–ú–µ—Å—è—á–Ω—ã–π –±–µ–∑–ª–∏–º–∏—Ç - –¢–∞–Ω—Ü—ã"
–°—É–º–º–∞: 5 000 ‚ÇΩ
–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã: –û–Ω–ª–∞–π–Ω (–Æ–ö–∞—Å—Å–∞)
–°—Ç–∞—Ç—É—Å: –û–ø–ª–∞—á–µ–Ω–æ ‚úì
[–°–∫–∞—á–∞—Ç—å —á–µ–∫]
```

#### 9.1.3. –ó–∞–º–µ—Ç–∫–∏/–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

**–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:** –û—Ç–¥–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ `client_notes` –∏–ª–∏ –ø–æ–ª–µ –≤ `clients`

**–í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ï–¥–∏–Ω–æ–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ**

```sql
-- –ü—Ä–æ—Å—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –æ–¥–Ω–æ –ø–æ–ª–µ notes –≤ —Ç–∞–±–ª–∏—Ü–µ clients
notes TEXT
```

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å—Ç–æ—Ä–∏—è –∑–∞–º–µ—Ç–æ–∫** (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```sql
CREATE TABLE client_notes (
  id          UUID PRIMARY KEY,
  client_id   UUID REFERENCES clients(id) ON DELETE CASCADE,
  note        TEXT NOT NULL,
  created_at  TIMESTAMP DEFAULT NOW(),
  created_by  UUID REFERENCES users(id),
  is_important BOOLEAN DEFAULT FALSE
);
```

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è:**

- –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è
- –¢–µ–∫—Å—Ç –∑–∞–º–µ—Ç–∫–∏
- –ê–≤—Ç–æ—Ä (—Å–æ—Ç—Ä—É–¥–Ω–∏–∫)
- –í–∞–∂–Ω–æ—Å—Ç—å (—Ñ–ª–∞–≥)

**–ü—Ä–∏–º–µ—Ä:**

```
12.11.2024 10:15 - –ú–µ–Ω–µ–¥–∂–µ—Ä –ü–µ—Ç—Ä–æ–≤–∞ –ê.–ò.
‚ö†Ô∏è –í–∞–∂–Ω–æ: –ö–ª–∏–µ–Ω—Ç –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç –∑–∞–Ω—è—Ç–∏—è –ø–æ –≤–µ—á–µ—Ä–∞–º

10.11.2024 14:00 - –ú–µ–Ω–µ–¥–∂–µ—Ä –ò–≤–∞–Ω–æ–≤ –ü.–°.
–ü–æ–ø—Ä–æ—Å–∏–ª –ø–µ—Ä–µ–∑–≤–æ–Ω–∏—Ç—å –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Å–ª–µ–¥—É—é—â–µ–≥–æ –º–µ—Å—è—Ü–∞
```

### 9.2. –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è

**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:**

- –í—Å–µ —Å–æ–±—ã—Ç–∏—è –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –¥–∞—Ç–µ (–æ—Ç –Ω–æ–≤—ã—Ö –∫ —Å—Ç–∞—Ä—ã–º)

**–§–∏–ª—å—Ç—Ä—ã:**

- –ü–æ —Ç–∏–ø—É —Å–æ–±—ã—Ç–∏—è (–ø–æ—Å–µ—â–µ–Ω–∏—è, –æ–ø–ª–∞—Ç—ã, –∑–∞–º–µ—Ç–∫–∏)
- –ü–æ –ø–µ—Ä–∏–æ–¥—É (–ø–æ—Å–ª–µ–¥–Ω–∏–π –º–µ—Å—è—Ü, 3 –º–µ—Å—è—Ü–∞, –≥–æ–¥, –≤–µ—Å—å –ø–µ—Ä–∏–æ–¥)
- –ü–æ —Å—Ç–∞—Ç—É—Å—É (—Ç–æ–ª—å–∫–æ –ø–æ—Å–µ—â–µ–Ω–∏—è, —Ç–æ–ª—å–∫–æ –æ—Ç–º–µ–Ω—ã –∏ —Ç.–¥.)

### 9.3. –ü–∞–≥–∏–Ω–∞—Ü–∏—è

- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ 20 –∑–∞–ø–∏—Å–µ–π
- –ö–Ω–æ–ø–∫–∞ "–ü–æ–∫–∞–∑–∞—Ç—å –µ—â–µ"

---

## 10. –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è

### 10.1. –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –í–≤–µ—Ä—Ö—É —Å–ø–∏—Å–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤

**–ü–æ–∏—Å–∫ –ø–æ:**

- –§–ò–û (–ª—é–±–∞—è —á–∞—Å—Ç—å —Ñ–∞–º–∏–ª–∏–∏, –∏–º–µ–Ω–∏ –∏–ª–∏ –æ—Ç—á–µ—Å—Ç–≤–∞)
- –¢–µ–ª–µ—Ñ–æ–Ω (–ª—é–±–∞—è —á–∞—Å—Ç—å)
- Email (–ª—é–±–∞—è —á–∞—Å—Ç—å)

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**

- –ü–æ–∏—Å–∫ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –≤–≤–æ–¥–∞ 2+ —Å–∏–º–≤–æ–ª–æ–≤
- –ü–æ–∏—Å–∫ –±–µ–∑ —É—á–µ—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (debounce 300ms)

**SQL –∑–∞–ø—Ä–æ—Å:**

```sql
SELECT * FROM clients
WHERE
  LOWER(last_name) LIKE LOWER('%' || :search || '%')
  OR LOWER(first_name) LIKE LOWER('%' || :search || '%')
  OR LOWER(middle_name) LIKE LOWER('%' || :search || '%')
  OR phone LIKE '%' || :search || '%'
  OR LOWER(email) LIKE LOWER('%' || :search || '%')
ORDER BY last_name, first_name
LIMIT 20;
```

### 10.2. –§–∏–ª—å—Ç—Ä—ã

**–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –§–∏–ª—å—Ç—Ä—ã                                 ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –°—Ç–∞—Ç—É—Å:                                 ‚îÇ
‚îÇ  ‚òë –ê–∫—Ç–∏–≤–Ω—ã–µ                             ‚îÇ
‚îÇ  ‚òê –ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ                           ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ –ê–±–æ–Ω–µ–º–µ–Ω—Ç—ã:                             ‚îÇ
‚îÇ  ‚óâ –í—Å–µ                                  ‚îÇ
‚îÇ  ‚óã –° –¥–µ–π—Å—Ç–≤—É—é—â–∏–º–∏ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞–º–∏          ‚îÇ
‚îÇ  ‚óã –ë–µ–∑ –¥–µ–π—Å—Ç–≤—É—é—â–∏—Ö –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤          ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ –õ—å–≥–æ—Ç–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è:                     ‚îÇ
‚îÇ  [–í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫]                    ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:                       ‚îÇ
‚îÇ  –û—Ç: [__/__/____]  –î–æ: [__/__/____]     ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ [–ü—Ä–∏–º–µ–Ω–∏—Ç—å]  [–°–±—Ä–æ—Å–∏—Ç—å]                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**SQL —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏:**

```sql
SELECT c.* FROM clients c
LEFT JOIN subscriptions s ON c.id = s.client_id
  AND s.status = 'ACTIVE'
  AND (s.end_date IS NULL OR s.end_date >= CURRENT_DATE)
WHERE
  -- –ü–æ–∏—Å–∫
  (LOWER(c.last_name) LIKE LOWER('%' || :search || '%')
   OR LOWER(c.first_name) LIKE LOWER('%' || :search || '%')
   OR LOWER(c.middle_name) LIKE LOWER('%' || :search || '%')
   OR c.phone LIKE '%' || :search || '%'
   OR LOWER(c.email) LIKE LOWER('%' || :search || '%'))

  -- –§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É
  AND c.status = ANY(:statuses)

  -- –§–∏–ª—å—Ç—Ä –ø–æ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞–º
  AND (
    :subscription_filter = 'all'
    OR (:subscription_filter = 'with' AND s.id IS NOT NULL)
    OR (:subscription_filter = 'without' AND s.id IS NULL)
  )

  -- –§–∏–ª—å—Ç—Ä –ø–æ –ª—å–≥–æ—Ç–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
  AND (:benefit_category IS NULL OR c.benefit_category_id = :benefit_category)

  -- –§–∏–ª—å—Ç—Ä –ø–æ –¥–∞—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
  AND (:date_from IS NULL OR c.created_at >= :date_from)
  AND (:date_to IS NULL OR c.created_at <= :date_to)

GROUP BY c.id
ORDER BY c.last_name, c.first_name
LIMIT :limit OFFSET :offset;
```

### 10.3. –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞

**–î–æ—Å—Ç—É–ø–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:**

- –ü–æ —Ñ–∞–º–∏–ª–∏–∏ (–ê-–Ø, –Ø-–ê)
- –ü–æ –¥–∞—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (—Å–Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã–µ, —Å–Ω–∞—á–∞–ª–∞ —Å—Ç–∞—Ä—ã–µ)
- –ü–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (—Å–Ω–∞—á–∞–ª–∞ –∞–∫—Ç–∏–≤–Ω—ã–µ, —Å–Ω–∞—á–∞–ª–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ)

**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** –ü–æ —Ñ–∞–º–∏–ª–∏–∏ –ê-–Ø

---

## 11. –ò–º–ø–æ—Ä—Ç –∏–∑ Excel

### 11.1. –®–∞–±–ª–æ–Ω —Ñ–∞–π–ª–∞

**–§–æ—Ä–º–∞—Ç:** .xlsx –∏–ª–∏ .xls

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏:**

| –ö–æ–ª–æ–Ω–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|---------|----------|--------|
| –§–∞–º–∏–ª–∏—è | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ | –ò–≤–∞–Ω–æ–≤ |
| –ò–º—è | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ | –ò–≤–∞–Ω |
| –û—Ç—á–µ—Å—Ç–≤–æ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ | –ò–≤–∞–Ω–æ–≤–∏—á |
| –¢–µ–ª–µ—Ñ–æ–Ω | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ | +79991234567 |

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏:**

| –ö–æ–ª–æ–Ω–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|---------|----------|--------|
| –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è | –î–î.–ú–ú.–ì–ì–ì–ì | 15.03.1985 |
| –ü–æ–ª | –ú/–ñ | –ú |
| Email | Email –∞–¥—Ä–µ—Å | ivan@mail.ru |
| –ê–¥—Ä–µ—Å | –ü–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å | –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥.1 |
| –î–æ–ø. —Ç–µ–ª–µ—Ñ–æ–Ω | –î–æ–ø. —Ç–µ–ª–µ—Ñ–æ–Ω | +79997654321 |
| –ü–∞—Å–ø–æ—Ä—Ç | –°–µ—Ä–∏—è –∏ –Ω–æ–º–µ—Ä | 4509 123456 |
| –°–ù–ò–õ–° | –°–ù–ò–õ–° | 123-456-789 01 |
| –õ—å–≥–æ—Ç–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è | –ù–∞–∑–≤–∞–Ω–∏–µ –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞ | –ú–Ω–æ–≥–æ–¥–µ—Ç–Ω–∞—è —Å–µ–º—å—è |
| –ü—Ä–∏–º–µ—á–∞–Ω–∏—è | –¢–µ–∫—Å—Ç | –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç –≤–µ—á–µ—Ä–Ω–∏–µ –∑–∞–Ω—è—Ç–∏—è |

**–ü—Ä–∏–º–µ—Ä —à–∞–±–ª–æ–Ω–∞:**

```
–§–∞–º–∏–ª–∏—è  | –ò–º—è   | –û—Ç—á–µ—Å—Ç–≤–æ  | –¢–µ–ª–µ—Ñ–æ–Ω        | –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è | Email
---------|-------|-----------|----------------|---------------|------------------
–ò–≤–∞–Ω–æ–≤   | –ò–≤–∞–Ω  | –ò–≤–∞–Ω–æ–≤–∏—á  | +79991234567   | 15.03.1985    | ivan@mail.ru
–ü–µ—Ç—Ä–æ–≤–∞  | –ú–∞—Ä–∏—è | –ü–µ—Ç—Ä–æ–≤–Ω–∞  | 89997654321    | 22.07.1990    | maria@gmail.com
–°–∏–¥–æ—Ä–æ–≤  | –ü–µ—Ç—Ä  | –°–µ—Ä–≥–µ–µ–≤–∏—á | 8 999 111 22 33| 10.01.1978    | petr@yandex.ru
```

### 11.2. –ü—Ä–æ—Ü–µ—Å—Å –∏–º–ø–æ—Ä—Ç–∞

**–®–∞–≥–∏:**

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ò–º–ø–æ—Ä—Ç –∏–∑ Excel"

2. –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞
   ‚îú‚îÄ –í—ã–±–æ—Ä —Ñ–∞–π–ª–∞ (.xlsx, .xls)
   ‚îú‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ (–º–∞–∫—Å 5 –ú–ë)
   ‚îî‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞

3. –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
   ‚îú‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–ª–æ–Ω–æ–∫
   ‚îú‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–∑–≤–∞–Ω–∏–π –∫–æ–ª–æ–Ω–æ–∫ (—Å—Ç—Ä–æ–≥–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ)
   ‚îî‚îÄ –ï—Å–ª–∏ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç ‚Üí –û—à–∏–±–∫–∞ "–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞"

4. –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö
   ‚îú‚îÄ –ü–æ–∫–∞–∑–∞—Ç—å –ø–µ—Ä–≤—ã–µ 10 —Å—Ç—Ä–æ–∫
   ‚îú‚îÄ –ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞
   ‚îî‚îÄ –ö–Ω–æ–ø–∫–∞ "–ù–∞—á–∞—Ç—å –∏–º–ø–æ—Ä—Ç"

5. –ò–º–ø–æ—Ä—Ç –ø–æ—Å—Ç—Ä–æ—á–Ω–æ
   –î–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏:
   ‚îú‚îÄ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
   ‚îÇ  ‚îú‚îÄ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã?
   ‚îÇ  ‚îú‚îÄ –§–æ—Ä–º–∞—Ç —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π?
   ‚îÇ  ‚îú‚îÄ –§–æ—Ä–º–∞—Ç email –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π?
   ‚îÇ  ‚îú‚îÄ –§–æ—Ä–º–∞—Ç –¥–∞—Ç—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π?
   ‚îÇ  ‚îî‚îÄ –õ—å–≥–æ—Ç–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è —Å—É—â–µ—Å—Ç–≤—É–µ—Ç?
   ‚îÇ
   ‚îú‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É
   ‚îÇ  ‚îî‚îÄ –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω ‚Üí –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Å—Ç—Ä–æ–∫—É
   ‚îÇ
   ‚îú‚îÄ –ï—Å–ª–∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –û–ö:
   ‚îÇ  ‚îú‚îÄ –°–æ–∑–¥–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–∞
   ‚îÇ  ‚îî‚îÄ –°—á–µ—Ç—á–∏–∫ "–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ" +1
   ‚îÇ
   ‚îî‚îÄ –ï—Å–ª–∏ –æ—à–∏–±–∫–∞:
      ‚îú‚îÄ –î–æ–±–∞–≤–∏—Ç—å –≤ —Å–ø–∏—Å–æ–∫ –æ—à–∏–±–æ–∫
      ‚îî‚îÄ –°—á–µ—Ç—á–∏–∫ "–û—à–∏–±–∫–∏" +1

6. –†–µ–∑—É–ª—å—Ç–∞—Ç –∏–º–ø–æ—Ä—Ç–∞
   ‚îú‚îÄ –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ: X –∑–∞–ø–∏—Å–µ–π
   ‚îú‚îÄ –ü—Ä–æ–ø—É—â–µ–Ω–æ (–¥—É–±–ª–∏–∫–∞—Ç—ã): Y –∑–∞–ø–∏—Å–µ–π
   ‚îú‚îÄ –û—à–∏–±–∫–∏: Z –∑–∞–ø–∏—Å–µ–π
   ‚îî‚îÄ [–°–∫–∞—á–∞—Ç—å –æ—Ç—á–µ—Ç –æ–± –æ—à–∏–±–∫–∞—Ö]
```

### 11.3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è:** –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Å—Ç—Ä–æ–∫–∏ —Å –æ—à–∏–±–∫–∞–º–∏

**–¢–∏–ø—ã –æ—à–∏–±–æ–∫:**

- **–í–∞–ª–∏–¥–∞—Ü–∏—è:** –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –ø–æ–ª—è
- **–î—É–±–ª–∏–∫–∞—Ç:** –ö–ª–∏–µ–Ω—Ç —Å —Ç–∞–∫–∏–º —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- **–°—Å—ã–ª–∫–∞:** –õ—å–≥–æ—Ç–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

**–û—Ç—á–µ—Ç –æ–± –æ—à–∏–±–∫–∞—Ö (Excel):**

```
–°—Ç—Ä–æ–∫–∞ | –û—à–∏–±–∫–∞                                 | –§–∞–º–∏–ª–∏—è | –ò–º—è  | –¢–µ–ª–µ—Ñ–æ–Ω
-------|----------------------------------------|---------|------|------------
5      | –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ç–µ–ª–µ—Ñ–æ–Ω–∞               | –ò–≤–∞–Ω–æ–≤  | –ò–≤–∞–Ω | 123
12     | –î—É–±–ª–∏–∫–∞—Ç: —Ç–µ–ª–µ—Ñ–æ–Ω —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç       | –ü–µ—Ç—Ä–æ–≤  | –ü–µ—Ç—Ä | +79991234567
18     | –õ—å–≥–æ—Ç–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è "VIP" –Ω–µ –Ω–∞–π–¥–µ–Ω–∞    | –°–∏–¥–æ—Ä–æ–≤ | –ò–≤–∞–Ω | +79997654321
23     | –ù–µ —É–∫–∞–∑–∞–Ω–∞ —Ñ–∞–º–∏–ª–∏—è                     | (–ø—É—Å—Ç–æ) | –ú–∞—Ä–∏—è| +79995551122
```

### 11.4. API –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞

**Endpoint:** `POST /api/clients/import`

**Request:**

```typescript
POST /api/clients/import
Content-Type: multipart/form-data

file: <Excel file>
```

**Response:**

```json
{
  "success": true,
  "data": {
    "total": 150,
    "imported": 145,
    "duplicates": 3,
    "errors": 2,
    "errorReport": "https://example.com/download/error-report-uuid.xlsx"
  }
}
```

---

## 12. –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel

### 12.1. –≠–∫—Å–ø–æ—Ä—Ç —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏

**–ü—Ä–æ—Ü–µ—Å—Å:**

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Ñ–∏–ª—å—Ç—Ä—ã –∫ —Å–ø–∏—Å–∫—É –∫–ª–∏–µ–Ω—Ç–æ–≤
2. –ù–∞–∂–∏–º–∞–µ—Ç "–≠–∫—Å–ø–æ—Ä—Ç –≤ Excel"
3. –°–∏—Å—Ç–µ–º–∞ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —Ñ–∞–π–ª —Å —É—á–µ—Ç–æ–º —Ñ–∏–ª—å—Ç—Ä–æ–≤
4. –§–∞–π–ª —Å–∫–∞—á–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

**–§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞:**

```
–§–∞–º–∏–ª–∏—è | –ò–º—è | –û—Ç—á–µ—Å—Ç–≤–æ | –¢–µ–ª–µ—Ñ–æ–Ω | Email | –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è | ... | –°—Ç–∞—Ç—É—Å | –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
```

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**

- –ú–∞–∫—Å–∏–º—É–º 10,000 –∑–∞–ø–∏—Å–µ–π –∑–∞ –æ–¥–∏–Ω —ç–∫—Å–ø–æ—Ä—Ç
- –ï—Å–ª–∏ –±–æ–ª—å—à–µ ‚Üí –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ "–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø–∏—Å–µ–π, —É—Ç–æ—á–Ω–∏—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã"

### 12.2. API –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞

**Endpoint:** `GET /api/clients/export`

**Query Parameters:**

```typescript
GET /api/clients/export?
  search=–ò–≤–∞–Ω–æ–≤
  &status=active
  &subscriptionFilter=with
  &dateFrom=2024-01-01
  &dateTo=2024-12-31
```

**Response:**

```
Content-Type: application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
Content-Disposition: attachment; filename="clients_2024-11-15.xlsx"

<Binary Excel file>
```

---

## 13. –°—Ç–∞—Ç—É—Å—ã –∫–ª–∏–µ–Ω—Ç–∞

### 13.1. –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã

- **ACTIVE (–ê–∫—Ç–∏–≤–Ω—ã–π)** - –∫–ª–∏–µ–Ω—Ç –∞–∫—Ç–∏–≤–Ω–æ –ø–æ—Å–µ—â–∞–µ—Ç –∑–∞–Ω—è—Ç–∏—è –∏–ª–∏ –∏–º–µ–µ—Ç –¥–µ–π—Å—Ç–≤—É—é—â–∏–π –∞–±–æ–Ω–µ–º–µ–Ω—Ç
- **INACTIVE (–ù–µ–∞–∫—Ç–∏–≤–Ω—ã–π)** - –∫–ª–∏–µ–Ω—Ç –Ω–µ –ø—Ä–æ—è–≤–ª—è–ª –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –±–æ–ª–µ–µ 6 –º–µ—Å—è—Ü–µ–≤

### 13.2. –ü—Ä–∞–≤–∏–ª–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ:**

```
ACTIVE ‚Üí INACTIVE
–£—Å–ª–æ–≤–∏–µ: –ù–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (–ø–æ—Å–µ—â–µ–Ω–∏–π –∏–ª–∏ –æ–ø–ª–∞—Ç) 6+ –º–µ—Å—è—Ü–µ–≤
–ü—Ä–æ–≤–µ—Ä–∫–∞: –ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 2:00 –Ω–æ—á–∏
```

**–†—É—á–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ:**

```
INACTIVE ‚Üí ACTIVE
–£—Å–ª–æ–≤–∏–µ: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å" –≤ –∫–∞—Ä—Ç–æ—á–∫–µ –∫–ª–∏–µ–Ω—Ç–∞
–ò–ª–∏: –ü—Ä–∏ –Ω–æ–≤–æ–º –ø–æ—Å–µ—â–µ–Ω–∏–∏ –∏–ª–∏ –æ–ø–ª–∞—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

### 13.3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ last_activity_at

**–¢—Ä–∏–≥–≥–µ—Ä—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**

1. **–ü–æ—Å–µ—â–µ–Ω–∏–µ –∑–∞–Ω—è—Ç–∏—è** (–æ—Ç–º–µ—Ç–∫–∞ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏—è –≤ attendance)
2. **–û–ø–ª–∞—Ç–∞ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞** (—Å–æ–∑–¥–∞–Ω–∏–µ payment)
3. **–†–∞–∑–æ–≤–∞—è –æ–ø–ª–∞—Ç–∞** (—Å–æ–∑–¥–∞–Ω–∏–µ payment)

**–ü—Ä–∏–º–µ—Ä:**

```typescript
// –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ—Å–µ—â–µ–Ω–∏—è
async markAttendance(scheduleId: string, clientId: string) {
  await prisma.attendance.create({
    data: {
      scheduleId,
      clientId,
      status: 'PRESENT',
    },
  });

  // –û–±–Ω–æ–≤–∏—Ç—å last_activity_at
  await prisma.client.update({
    where: { id: clientId },
    data: {
      lastActivityAt: new Date(),
      status: 'ACTIVE', // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å
    },
  });
}
```

---

## 14. –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

### 14.1. –ú–∞—Å—Å–æ–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:** –û—Ç–ø—Ä–∞–≤–∫–∞ email –≥—Ä—É–ø–ø–µ –∫–ª–∏–µ–Ω—Ç–æ–≤

**–ü—Ä–æ—Ü–µ—Å—Å:**

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Ñ–∏–ª—å—Ç—Ä—ã
2. –ù–∞–∂–∏–º–∞–µ—Ç "–ú–∞—Å—Å–æ–≤–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞"
3. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Ñ–æ—Ä–º–∞:
   ‚îú‚îÄ –¢–µ–º–∞ –ø–∏—Å—å–º–∞
   ‚îú‚îÄ –¢–µ–∫—Å—Ç –ø–∏—Å—å–º–∞ (—Ä–µ–¥–∞–∫—Ç–æ—Ä)
   ‚îú‚îÄ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
   ‚îî‚îÄ –ö–Ω–æ–ø–∫–∞ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å"

4. –°–∏—Å—Ç–µ–º–∞:
   ‚îú‚îÄ –§–∏–ª—å—Ç—Ä—É–µ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º email
   ‚îú‚îÄ –°—Ç–∞–≤–∏—Ç –∑–∞–¥–∞—á—É –≤ –æ—á–µ—Ä–µ–¥—å
   ‚îî‚îÄ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–∏—Å—å–º–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ

5. –†–µ–∑—É–ª—å—Ç–∞—Ç:
   ‚îú‚îÄ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ: X –ø–∏—Å–µ–º
   ‚îú‚îÄ –ù–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ: Y (–Ω–µ—Ç email)
   ‚îî‚îÄ –û—à–∏–±–∫–∏: Z
```

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**

- –¢–æ–ª—å–∫–æ –∫–ª–∏–µ–Ω—Ç—ã —Å –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º email
- –ú–∞–∫—Å–∏–º—É–º 500 –ø–∏—Å–µ–º –∑–∞ —Ä–∞–∑
- –õ–∏–º–∏—Ç: 1 —Ä–∞—Å—Å—ã–ª–∫–∞ –≤ 10 –º–∏–Ω—É—Ç

### 14.2. –ú–∞—Å—Å–æ–≤—ã–π —ç–∫—Å–ø–æ—Ä—Ç

–°–º. —Ä–∞–∑–¥–µ–ª [12. –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel](#12-—ç–∫—Å–ø–æ—Ä—Ç-–≤-excel)

---

## 15. –î–µ–π—Å—Ç–≤–∏—è —Å –∫–ª–∏–µ–Ω—Ç–æ–º

### 15.1. –ü—Ä–æ–¥–∞—Ç—å –∞–±–æ–Ω–µ–º–µ–Ω—Ç

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –ö–Ω–æ–ø–∫–∞ –≤ –∫–∞—Ä—Ç–æ—á–∫–µ –∫–ª–∏–µ–Ω—Ç–∞

**–ü—Ä–æ—Ü–µ—Å—Å:**

```
1. –í –∫–∞—Ä—Ç–æ—á–∫–µ –∫–ª–∏–µ–Ω—Ç–∞ –Ω–∞–∂–∞—Ç—å "–ü—Ä–æ–¥–∞—Ç—å –∞–±–æ–Ω–µ–º–µ–Ω—Ç"
2. –ü–µ—Ä–µ—Ö–æ–¥ –≤ –º–æ–¥—É–ª—å "–ü—Ä–æ–¥–∞–∂–∏ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤"
3. –ö–ª–∏–µ–Ω—Ç —É–∂–µ –≤—ã–±—Ä–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Ç–∏–ø –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞ –∏ –æ—Ñ–æ—Ä–º–ª—è–µ—Ç –ø—Ä–æ–¥–∞–∂—É
```

**–°–º. —Ç–∞–∫–∂–µ:** –ú–æ–¥—É–ª—å "–ê–±–æ–Ω–µ–º–µ–Ω—Ç—ã –∏ –ø—Ä–æ–¥–∞–∂–∏"

### 15.2. –ó–∞–ø–∏—Å–∞—Ç—å –Ω–∞ –∑–∞–Ω—è—Ç–∏–µ

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –ö–Ω–æ–ø–∫–∞ –≤ –∫–∞—Ä—Ç–æ—á–∫–µ –∫–ª–∏–µ–Ω—Ç–∞

**–ü—Ä–æ—Ü–µ—Å—Å:**

```
1. –í –∫–∞—Ä—Ç–æ—á–∫–µ –∫–ª–∏–µ–Ω—Ç–∞ –Ω–∞–∂–∞—Ç—å "–ó–∞–ø–∏—Å–∞—Ç—å –Ω–∞ –∑–∞–Ω—è—Ç–∏–µ"
2. –ü–µ—Ä–µ—Ö–æ–¥ –≤ –º–æ–¥—É–ª—å "–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ"
3. –ö–ª–∏–µ–Ω—Ç —É–∂–µ –≤—ã–±—Ä–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –∑–∞–Ω—è—Ç–∏–µ –∏–∑ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞
```

**–°–º. —Ç–∞–∫–∂–µ:** –ú–æ–¥—É–ª—å "–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ"

### 15.3. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –ö–Ω–æ–ø–∫–∞ –≤ –∫–∞—Ä—Ç–æ—á–∫–µ –∫–ª–∏–µ–Ω—Ç–∞

**–ü—Ä–æ—Ü–µ—Å—Å:**

```
1. –í –∫–∞—Ä—Ç–æ—á–∫–µ –∫–ª–∏–µ–Ω—Ç–∞ –Ω–∞–∂–∞—Ç—å "–û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ"
2. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Ñ–æ—Ä–º–∞:
   ‚îú‚îÄ –ü–æ–ª—É—á–∞—Ç–µ–ª—å: [–§–ò–û] (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
   ‚îú‚îÄ Email: [email –∫–ª–∏–µ–Ω—Ç–∞]
   ‚îú‚îÄ –¢–µ–º–∞: [—Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ]
   ‚îú‚îÄ –°–æ–æ–±—â–µ–Ω–∏–µ: [—Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ]
   ‚îî‚îÄ [–û—Ç–ø—Ä–∞–≤–∏—Ç—å]

3. –°–∏—Å—Ç–µ–º–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç email
4. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –∏—Å—Ç–æ—Ä–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞ (–∑–∞–º–µ—Ç–∫–∞)
```

---

## 16. –ê—Ä—Ö–∏–≤–∞—Ü–∏—è

### 16.1. –ü—Ä–æ—Ü–µ—Å—Å –∞—Ä—Ö–∏–≤–∞—Ü–∏–∏

**–ê–∫—Ç–æ—Ä:** –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä, –ú–µ–Ω–µ–¥–∂–µ—Ä

**–ü—Ä–æ—Ü–µ—Å—Å:**

```
1. –û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É –∫–ª–∏–µ–Ω—Ç–∞
2. –ù–∞–∂–∞—Ç—å "–ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å" (–º–µ–Ω—é "–î–µ–π—Å—Ç–≤–∏—è")
3. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ:
   "–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ [–§–ò–û]?
    –ö–ª–∏–µ–Ω—Ç –±—É–¥–µ—Ç –ø–µ—Ä–µ–º–µ—â–µ–Ω –≤ —Ä–∞–∑–¥–µ–ª '–ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ'."
4. [–ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å] [–û—Ç–º–µ–Ω–∞]
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

- –°—Ç–∞—Ç—É—Å –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `INACTIVE`
- –ö–ª–∏–µ–Ω—Ç –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –ë–î —Å–æ –≤—Å–µ–π –∏—Å—Ç–æ—Ä–∏–µ–π
- –ö–ª–∏–µ–Ω—Ç –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Å–ø–∏—Å–∫–µ (—Ç–æ–ª—å–∫–æ –≤ —Ñ–∏–ª—å—Ç—Ä–µ "–ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ")
- –í—Å–µ –∞–±–æ–Ω–µ–º–µ–Ω—Ç—ã, –ø–æ—Å–µ—â–µ–Ω–∏—è, –æ–ø–ª–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è

### 16.2. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

**–ü—Ä–æ—Ü–µ—Å—Å:**

```
1. –§–∏–ª—å—Ç—Ä ‚Üí –ü–æ–∫–∞–∑–∞—Ç—å "–ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ"
2. –ù–∞–π—Ç–∏ –∫–ª–∏–µ–Ω—Ç–∞
3. –û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É
4. –ù–∞–∂–∞—Ç—å "–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å"
5. –ö–ª–∏–µ–Ω—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ —Å—Ç–∞—Ç—É—Å ACTIVE
```

### 16.3. –ü–æ—á–µ–º—É –Ω–µ—Ç —É–¥–∞–ª–µ–Ω–∏—è?

**–ü—Ä–∏—á–∏–Ω—ã:**

1. **–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è** - –∏—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π –∏ –ø–æ—Å–µ—â–µ–Ω–∏–π –¥–æ–ª–∂–Ω–∞ —Ö—Ä–∞–Ω–∏—Ç—å—Å—è
2. **–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å** - –Ω–µ–ª—å–∑—è —É–¥–∞–ª—è—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å –æ–ø–ª–∞—Ç–∞–º–∏
3. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** - –¥–∞–Ω–Ω—ã–µ –Ω—É–∂–Ω—ã –¥–ª—è –æ—Ç—á–µ—Ç–æ–≤

---

## 17. –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

### 17.1. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä

**–ú–æ–∂–µ—Ç:**

- ‚úì –°–æ–∑–¥–∞–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤
- ‚úì –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ª—é–±—ã–µ –¥–∞–Ω–Ω—ã–µ
- ‚úì –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤
- ‚úì –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∏–∑ –∞—Ä—Ö–∏–≤–∞
- ‚úì –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑ Excel
- ‚úì –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ Excel
- ‚úì –ú–∞—Å—Å–æ–≤—ã–µ —Ä–∞—Å—Å—ã–ª–∫–∏
- ‚úì –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –≤—Å—é –∏—Å—Ç–æ—Ä–∏—é

### 17.2. –ú–µ–Ω–µ–¥–∂–µ—Ä/–†–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä

**–ú–æ–∂–µ—Ç:**

- ‚úì –°–æ–∑–¥–∞–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤
- ‚úì –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç–æ–≤
- ‚úì –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤
- ‚úì –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∏–∑ –∞—Ä—Ö–∏–≤–∞
- ‚úì –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑ Excel
- ‚úì –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ Excel
- ‚úì –ú–∞—Å—Å–æ–≤—ã–µ —Ä–∞—Å—Å—ã–ª–∫–∏
- ‚úì –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∫–ª–∏–µ–Ω—Ç–æ–≤

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**

- ‚úó –ù–µ –º–æ–∂–µ—Ç —É–¥–∞–ª—è—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤ (—Ç–æ–ª—å–∫–æ –∞—Ä—Ö–∏–≤–∞—Ü–∏—è)
- ‚úó –ù–µ –≤–∏–¥–∏—Ç –∏—Å—Ç–æ—Ä–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π (–∫—Ç–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–ª)

---

## 18. UI/UX —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 18.1. –°–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤

**–ú–∞–∫–µ—Ç:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ö–ª–∏–µ–Ω—Ç—ã                                    [+ –ù–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç]     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ [üîç –ü–æ–∏—Å–∫...]                              [–ò–º–ø–æ—Ä—Ç] [–≠–∫—Å–ø–æ—Ä—Ç]  ‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ –§–∏–ª—å—Ç—Ä—ã: [–°—Ç–∞—Ç—É—Å ‚ñº] [–ê–±–æ–Ω–µ–º–µ–Ω—Ç—ã ‚ñº] [–õ—å–≥–æ—Ç—ã ‚ñº]                ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –§–ò–û                    ‚îÇ –¢–µ–ª–µ—Ñ–æ–Ω         ‚îÇ Email    ‚îÇ –°—Ç–∞—Ç—É—Å   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á   ‚îÇ +7 999 123-45-67‚îÇ ivan@... ‚îÇ –ê–∫—Ç–∏–≤–Ω—ã–π ‚îÇ
‚îÇ –ü–µ—Ç—Ä–æ–≤–∞ –ú–∞—Ä–∏—è –ü–µ—Ç—Ä–æ–≤–Ω–∞ ‚îÇ +7 999 765-43-21‚îÇ maria@...‚îÇ –ê–∫—Ç–∏–≤–Ω—ã–π ‚îÇ
‚îÇ –°–∏–¥–æ—Ä–æ–≤ –ü–µ—Ç—Ä –°–µ—Ä–≥–µ–µ–≤–∏—á ‚îÇ +7 999 111-22-33‚îÇ petr@... ‚îÇ –ù–µ–∞–∫—Ç.   ‚îÇ
‚îÇ ...                    ‚îÇ                 ‚îÇ          ‚îÇ          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               –°—Ç—Ä–∞–Ω–∏—Ü–∞ 1 –∏–∑ 15            [<] [1] [2] [3] [>]
```

### 18.2. –ö–∞—Ä—Ç–æ—á–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞

**–í–∫–ª–∞–¥–∫–∏:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É          –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á      [–î–µ–π—Å—Ç–≤–∏—è ‚ñº]‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ [–û–±—â–∏–µ –¥–∞–Ω–Ω—ã–µ] [–ò—Å—Ç–æ—Ä–∏—è –ø–æ—Å–µ—â–µ–Ω–∏–π] [–û–ø–ª–∞—Ç—ã] [–ê–±–æ–Ω–µ–º–µ–Ω—Ç—ã] [–†–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–∏] ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                ‚îÇ
‚îÇ  –õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è                                             ‚îÇ
‚îÇ  ‚îú‚îÄ –§–∞–º–∏–ª–∏—è: –ò–≤–∞–Ω–æ–≤                                            ‚îÇ
‚îÇ  ‚îú‚îÄ –ò–º—è: –ò–≤–∞–Ω                                                  ‚îÇ
‚îÇ  ‚îú‚îÄ –û—Ç—á–µ—Å—Ç–≤–æ: –ò–≤–∞–Ω–æ–≤–∏—á                                         ‚îÇ
‚îÇ  ‚îú‚îÄ –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è: 15.03.1985 (39 –ª–µ—Ç)                         ‚îÇ
‚îÇ  ‚îî‚îÄ –ü–æ–ª: –ú—É–∂—Å–∫–æ–π                                               ‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ  –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è                                         ‚îÇ
‚îÇ  ‚îú‚îÄ –¢–µ–ª–µ—Ñ–æ–Ω: +7 (999) 123-45-67                                ‚îÇ
‚îÇ  ‚îú‚îÄ –î–æ–ø. —Ç–µ–ª–µ—Ñ–æ–Ω: ‚Äî                                            ‚îÇ
‚îÇ  ‚îú‚îÄ Email: ivan@mail.ru                                        ‚îÇ
‚îÇ  ‚îî‚îÄ –ê–¥—Ä–µ—Å: –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥.1, –∫–≤.5                    ‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ  –î–æ–∫—É–º–µ–Ω—Ç—ã                                                     ‚îÇ
‚îÇ  ‚îú‚îÄ –ü–∞—Å–ø–æ—Ä—Ç: 4509 123456                                       ‚îÇ
‚îÇ  ‚îú‚îÄ –°–ù–ò–õ–°: 123-456-789 01                                      ‚îÇ
‚îÇ  ‚îî‚îÄ –°–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏: ‚Äî                                ‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ  –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ                                                 ‚îÇ
‚îÇ  ‚îú‚îÄ –õ—å–≥–æ—Ç–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è: –ú–Ω–æ–≥–æ–¥–µ—Ç–Ω–∞—è —Å–µ–º—å—è (—Å–∫–∏–¥–∫–∞ 10%)         ‚îÇ
‚îÇ  ‚îú‚îÄ –°—Ç–∞—Ç—É—Å: –ê–∫—Ç–∏–≤–Ω—ã–π                                           ‚îÇ
‚îÇ  ‚îî‚îÄ –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: 10.01.2024                               ‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ  –ü—Ä–∏–º–µ—á–∞–Ω–∏—è                                                    ‚îÇ
‚îÇ  –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç –≤–µ—á–µ—Ä–Ω–∏–µ –∑–∞–Ω—è—Ç–∏—è. –ü–æ–ø—Ä–æ—Å–∏–ª –Ω–∞–ø–æ–º–∏–Ω–∞—Ç—å –∑–∞         ‚îÇ
‚îÇ  –¥–µ–Ω—å –¥–æ –∑–∞–Ω—è—Ç–∏—è.                                              ‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ                                     [–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å]            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 18.3. –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–†–∞–∑–¥–µ–ª—ã:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ù–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç                                        [√ó]        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                ‚îÇ
‚îÇ –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è *                                          ‚îÇ
‚îÇ –§–∞–º–∏–ª–∏—è: [_____________] *                                     ‚îÇ
‚îÇ –ò–º—è:     [_____________] *                                     ‚îÇ
‚îÇ –û—Ç—á–µ—Å—Ç–≤–æ:[_____________] *                                     ‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è: [__/__/____]   –ü–æ–ª: [–ú ‚ñº]                       ‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ –ö–æ–Ω—Ç–∞–∫—Ç—ã *                                                     ‚îÇ
‚îÇ –¢–µ–ª–µ—Ñ–æ–Ω:       [+7 (___) ___-__-__] *                          ‚îÇ
‚îÇ –î–æ–ø. —Ç–µ–ª–µ—Ñ–æ–Ω:  [+7 (___) ___-__-__]                            ‚îÇ
‚îÇ Email:         [_________________________]                     ‚îÇ
‚îÇ –ê–¥—Ä–µ—Å:         [_________________________]                     ‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ –î–æ–∫—É–º–µ–Ω—Ç—ã                                                      ‚îÇ
‚îÇ –ü–∞—Å–ø–æ—Ä—Ç:               [____ ______]                           ‚îÇ
‚îÇ –°–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –æ —Ä–æ–∂–¥–µ–Ω–∏–∏: [_______________]                    ‚îÇ
‚îÇ –°–ù–ò–õ–°:                 [___-___-___ __]                        ‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ –õ—å–≥–æ—Ç–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è: [–í—ã–±—Ä–∞—Ç—å ‚ñº]                                ‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ –ü—Ä–∏–º–µ—á–∞–Ω–∏—è:                                                    ‚îÇ
‚îÇ [                                                        ]     ‚îÇ
‚îÇ [                                                        ]     ‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ                         [–û—Ç–º–µ–Ω–∞]  [–°–æ—Ö—Ä–∞–Ω–∏—Ç—å]                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## 19. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ –º–æ–¥—É–ª—è–º–∏

### 19.1. –ú–æ–¥—É–ª—å "–ê–±–æ–Ω–µ–º–µ–Ω—Ç—ã"

**–°–≤—è–∑—å:** Client ‚Üí Subscription

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:**

- –ü–æ–∫—É–ø–∫–∞ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–π—Å—Ç–≤—É—é—â–∏—Ö –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤
- –°–ø–∏—Å–∞–Ω–∏–µ –ø–æ—Å–µ—â–µ–Ω–∏–π —Å –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞

**–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å:**

- –ü—Ä–∏ –ø–æ–∫—É–ø–∫–µ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è `last_activity_at`
- –ü—Ä–∏ —Å–ø–∏—Å–∞–Ω–∏–∏ –ø–æ—Å–µ—â–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞

### 19.2. –ú–æ–¥—É–ª—å "–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ"

**–°–≤—è–∑—å:** Client ‚Üí Attendance ‚Üí Schedule

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:**

- –ó–∞–ø–∏—Å—å –∫–ª–∏–µ–Ω—Ç–∞ –Ω–∞ –∑–∞–Ω—è—Ç–∏–µ
- –û—Ç–º–µ—Ç–∫–∞ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏—è
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ—Å–µ—â–µ–Ω–∏–π

**–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å:**

- –ü—Ä–∏ –æ—Ç–º–µ—Ç–∫–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏—è –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è `last_activity_at`

### 19.3. –ú–æ–¥—É–ª—å "–ü–ª–∞—Ç–µ–∂–∏"

**–°–≤—è–∑—å:** Client ‚Üí Payment

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:**

- –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞ –∑–∞ –∞–±–æ–Ω–µ–º–µ–Ω—Ç, —Ä–∞–∑–æ–≤–æ–µ –ø–æ—Å–µ—â–µ–Ω–∏–µ, –∞—Ä–µ–Ω–¥—É
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏ –ø–ª–∞—Ç–µ–∂–µ–π

**–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å:**

- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–ª–∞—Ç–µ–∂–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è `last_activity_at`

### 19.4. –ú–æ–¥—É–ª—å "–û—Ç—á–µ—Ç—ã"

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –æ—Ç—á–µ—Ç–∞—Ö:**

- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö/–Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
- –ù–æ–≤—ã–µ –∫–ª–∏–µ–Ω—Ç—ã –∑–∞ –ø–µ—Ä–∏–æ–¥
- –ö–ª–∏–µ–Ω—Ç—ã —Å –¥–µ–π—Å—Ç–≤—É—é—â–∏–º–∏ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞–º–∏
- –°–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –ª—å–≥–æ—Ç–Ω—ã–º –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

---

## 20. API Endpoints

### 20.1. CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏

#### GET /api/clients

–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –∏ –ø–æ–∏—Å–∫–æ–º

**Query Parameters:**

```typescript
{
  search?: string;
  status?: 'active' | 'inactive' | 'all';
  subscriptionFilter?: 'all' | 'with' | 'without';
  benefitCategoryId?: string;
  dateFrom?: string; // ISO date
  dateTo?: string;   // ISO date
  page?: number;
  limit?: number;
}
```

**Response:**

```json
{
  "data": [
    {
      "id": "uuid",
      "lastName": "–ò–≤–∞–Ω–æ–≤",
      "firstName": "–ò–≤–∞–Ω",
      "middleName": "–ò–≤–∞–Ω–æ–≤–∏—á",
      "phone": "+79991234567",
      "email": "ivan@mail.ru",
      "status": "active",
      "createdAt": "2024-01-10T10:00:00Z",
      "lastActivityAt": "2024-11-15T18:00:00Z"
    }
  ],
  "meta": {
    "total": 150,
    "page": 1,
    "lastPage": 8,
    "perPage": 20
  }
}
```

#### GET /api/clients/:id

–ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç–∞

**Response:**

```json
{
  "id": "uuid",
  "lastName": "–ò–≤–∞–Ω–æ–≤",
  "firstName": "–ò–≤–∞–Ω",
  "middleName": "–ò–≤–∞–Ω–æ–≤–∏—á",
  "dateOfBirth": "1985-03-15",
  "gender": "male",
  "phone": "+79991234567",
  "phoneAdditional": null,
  "email": "ivan@mail.ru",
  "address": "–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥.1",
  "passportNumber": "4509 123456",
  "birthCertificate": null,
  "snils": "123-456-789 01",
  "benefitCategory": {
    "id": "uuid",
    "name": "–ú–Ω–æ–≥–æ–¥–µ—Ç–Ω–∞—è —Å–µ–º—å—è",
    "discountPercentage": 10.00
  },
  "notes": "–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç –≤–µ—á–µ—Ä–Ω–∏–µ –∑–∞–Ω—è—Ç–∏—è",
  "status": "active",
  "createdAt": "2024-01-10T10:00:00Z",
  "updatedAt": "2024-11-15T12:00:00Z",
  "lastActivityAt": "2024-11-15T18:00:00Z",
  "relations": [
    {
      "relatedClient": {
        "id": "uuid",
        "lastName": "–ò–≤–∞–Ω–æ–≤–∞",
        "firstName": "–ú–∞—Ä–∏—è",
        "phone": "+79997654321"
      },
      "relationType": "–°—É–ø—Ä—É–≥–∞"
    }
  ],
  "subscriptions": [...],
  "attendances": [...],
  "payments": [...]
}
```

#### POST /api/clients

–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞

**Request Body:**

```json
{
  "lastName": "–ò–≤–∞–Ω–æ–≤",
  "firstName": "–ò–≤–∞–Ω",
  "middleName": "–ò–≤–∞–Ω–æ–≤–∏—á",
  "phone": "+79991234567",
  "email": "ivan@mail.ru",
  "dateOfBirth": "1985-03-15",
  "gender": "male",
  "address": "–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥.1",
  "passportNumber": "4509 123456",
  "snils": "123-456-789 01",
  "benefitCategoryId": "uuid",
  "notes": "–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ"
}
```

**Response:**

```json
{
  "id": "uuid",
  "lastName": "–ò–≤–∞–Ω–æ–≤",
  ...
  "createdAt": "2024-11-15T12:00:00Z"
}
```

**Errors:**

```json
{
  "error": "VALIDATION_ERROR",
  "message": "–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ç–µ–ª–µ—Ñ–æ–Ω–∞",
  "field": "phone"
}
```

```json
{
  "error": "DUPLICATE_WARNING",
  "message": "–ö–ª–∏–µ–Ω—Ç —Å —Ç–∞–∫–∏–º —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç",
  "duplicate": {
    "id": "uuid",
    "fullName": "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",
    "phone": "+79991234567"
  }
}
```

#### PATCH /api/clients/:id

–û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç–∞

**Request Body:** (partial)

```json
{
  "email": "newemail@mail.ru",
  "phone": "+79999999999",
  "notes": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ"
}
```

#### DELETE /api/clients/:id

–ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ (–Ω–µ —É–¥–∞–ª—è–µ—Ç —Ñ–∏–∑–∏—á–µ—Å–∫–∏)

**Response:**

```json
{
  "success": true,
  "message": "–ö–ª–∏–µ–Ω—Ç –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω"
}
```

### 20.2. –†–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–≤—è–∑–∏

#### POST /api/clients/:id/relations

–î–æ–±–∞–≤–∏—Ç—å —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω—É—é —Å–≤—è–∑—å

**Request Body:**

```json
{
  "relatedClientId": "uuid",
  "relationTypeId": "uuid"
}
```

#### DELETE /api/clients/:id/relations/:relationId

–£–¥–∞–ª–∏—Ç—å —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω—É—é —Å–≤—è–∑—å

### 20.3. –ò—Å—Ç–æ—Ä–∏—è

#### GET /api/clients/:id/attendances

–ü–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –ø–æ—Å–µ—â–µ–Ω–∏–π

**Query:** `?page=1&limit=20`

#### GET /api/clients/:id/payments

–ü–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –æ–ø–ª–∞—Ç

**Query:** `?page=1&limit=20`

### 20.4. –ò–º–ø–æ—Ä—Ç/–≠–∫—Å–ø–æ—Ä—Ç

#### POST /api/clients/import

–ò–º–ø–æ—Ä—Ç –∏–∑ Excel

**Request:**

```typescript
Content-Type: multipart/form-data
file: <Excel file>
```

**Response:**

```json
{
  "success": true,
  "data": {
    "total": 150,
    "imported": 145,
    "duplicates": 3,
    "errors": 2,
    "errorReportUrl": "https://..."
  }
}
```

#### GET /api/clients/export

–≠–∫—Å–ø–æ—Ä—Ç –≤ Excel

**Query:** —Ñ–∏–ª—å—Ç—Ä—ã –∫–∞–∫ –≤ GET /api/clients

**Response:** Binary Excel file

---

## –ö–æ–Ω–µ—Ü –¥–æ–∫—É–º–µ–Ω—Ç–∞

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**

1. –£—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –º–æ–¥—É–ª—è CRM
2. –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥—É–ª—è "–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ"
3. –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥—É–ª—è "–°—Ç—É–¥–∏–∏ –∏ —Å–µ–∫—Ü–∏–∏"
4. –ò —Ç–∞–∫ –¥–∞–ª–µ–µ...

**–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-11-13
