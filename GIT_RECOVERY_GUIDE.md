# Git Recovery Guide - –û—Ç–∫–∞—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π

## üìã –¢–µ–∫—É—â–∏–µ —Ç–æ—á–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

### –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∫–æ–º–º–∏—Ç—ã:
```
c6b49e3  ‚Üê HEAD (—Å–µ–π—á–∞—Å –∑–¥–µ—Å—å)  "–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞"
c237dcc                         "–î–æ—Ä–∞–±–æ—Ç–∞–Ω—ã —Å—Ç—É–¥–∏–∏ –∏ –≥—Ä—É–ø–ø—ã"
aea5dd0  ‚Üê origin/master        "–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω package-lock.json"
8b37f63                         "–î–æ–±–∞–≤–ª–µ–Ω –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä"
ae5ca63                         "–£–ª—É—á—à–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π"
705f5e2  ‚Üê –í–ï–†–°–ò–Ø 1.0           "–í–µ—Ä—Å–∏—è 1.0" (—Å—Ç–∞–±–∏–ª—å–Ω–∞—è)
```

## üö® –°—Ü–µ–Ω–∞—Ä–∏–∏ –æ—Ç–∫–∞—Ç–∞

### 1. –û—Ç–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º —Ñ–∞–π–ª–µ (–Ω–µ –∑–∞–∫–æ–º–º–∏—á–µ–Ω–æ)

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å
git diff backend/src/attendance/attendance.service.ts

# –û—Ç–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–µ
git restore backend/src/attendance/attendance.service.ts

# –û—Ç–º–µ–Ω–∏—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git restore .
```

### 2. –û—Ç–∫–∞—Ç–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç (–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è)

```bash
# –û—Ç–∫–∞—Ç–∏—Ç—å –∫–æ–º–º–∏—Ç, –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Å—Ç–∞–Ω—É—Ç—Å—è –≤ —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
git reset --soft HEAD~1

# –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ:
# - –ò–∑–º–µ–Ω–∏—Ç—å —Ñ–∞–π–ª—ã
# - –°–¥–µ–ª–∞—Ç—å –Ω–æ–≤—ã–π –∫–æ–º–º–∏—Ç
```

### 3. –û—Ç–∫–∞—Ç–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç (—É–¥–∞–ª–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è)

```bash
# ‚ö†Ô∏è –û–°–¢–û–†–û–ñ–ù–û! –£–¥–∞–ª–∏—Ç –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∫–æ–º–º–∏—Ç–∞
git reset --hard HEAD~1
```

### 4. –û—Ç–∫–∞—Ç–∏—Ç—å—Å—è –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–º–º–∏—Ç (–≤—Ä–µ–º–µ–Ω–Ω–æ)

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ –º–æ–º–µ–Ω—Ç –∫–æ–º–º–∏—Ç–∞ (read-only)
git checkout aea5dd0

# –í–µ—Ä–Ω—É—Ç—å—Å—è –æ–±—Ä–∞—Ç–Ω–æ
git checkout master
```

### 5. –û—Ç–∫–∞—Ç–∏—Ç—å—Å—è –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–º–º–∏—Ç (–ñ–Å–°–¢–ö–û)

```bash
# ‚ö†Ô∏è –û–°–¢–û–†–û–ñ–ù–û! –£–¥–∞–ª–∏—Ç –≤—Å–µ –∫–æ–º–º–∏—Ç—ã –ø–æ—Å–ª–µ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ
git reset --hard aea5dd0

# –ò–ª–∏ –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è –Ω–∞ –≤–µ—Ä—Å–∏—é 1.0
git reset --hard 705f5e2
```

### 6. –°–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É –æ—Ç —Å—Ç–∞—Ä–æ–≥–æ –∫–æ–º–º–∏—Ç–∞ (–±–µ–∑–æ–ø–∞—Å–Ω–æ)

```bash
# –°–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É –æ—Ç –≤–µ—Ä—Å–∏–∏ 1.0
git checkout -b backup-v1.0 705f5e2

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
ls -la

# –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ master
git checkout master
```

## üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –æ—Ç–∫–∞—Ç–æ–º

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–µ–ø–ª–æ—è
git add deploy-smart.sh deploy-optimized.sh
git add backend/.dockerignore frontend/.dockerignore
git add DEPLOY_OPTIMIZATION.md DEPLOY_QUICK_START.md
git add DEPLOYMENT_STRATEGY.md

# –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å
git commit -m "–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–µ–ø–ª–æ—è: –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è"

# –ó–∞–ø—É—à–∏—Ç—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
git push origin master
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –°–ø—Ä—è—Ç–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è (stash)

```bash
# –°–ø—Ä—è—Ç–∞—Ç—å –≤—Å–µ —Ç–µ–∫—É—â–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git stash save "–†–∞–±–æ—Ç–∞ –Ω–∞–¥ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π –¥–µ–ø–ª–æ—è"

# –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è
git reset --hard aea5dd0

# –ü–æ–∑–∂–µ –≤–µ—Ä–Ω—É—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
git stash pop
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –°–æ–∑–¥–∞—Ç—å –ø–∞—Ç—á

```bash
# –°–æ–∑–¥–∞—Ç—å –ø–∞—Ç—á —Å–æ –≤—Å–µ–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
git diff > my-changes.patch

# –û—Ç–∫–∞—Ç–∏—Ç—å—Å—è
git reset --hard aea5dd0

# –ü–æ–∑–∂–µ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –ø–∞—Ç—á
git apply my-changes.patch
```

## üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π workflow –ø–µ—Ä–µ–¥ –æ—Ç–∫–∞—Ç–æ–º

### –®–∞–≥ 1: –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

```bash
# –°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –≤–µ—Ç–∫—É –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
git checkout -b backup-before-rollback

# –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git add .
git commit -m "Backup –ø–µ—Ä–µ–¥ –æ—Ç–∫–∞—Ç–æ–º"

# –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ master
git checkout master
```

### –®–∞–≥ 2: –û—Ç–∫–∞—Ç (–±–µ–∑–æ–ø–∞—Å–Ω–æ)

```bash
# –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –æ—Ç–∫–∞—Ç—ã–≤–∞—Ç—å—Å—è –±–µ–∑ —Å—Ç—Ä–∞—Ö–∞
git reset --hard aea5dd0  # –∏–ª–∏ –¥—Ä—É–≥–æ–π –∫–æ–º–º–∏—Ç
```

### –®–∞–≥ 3: –ï—Å–ª–∏ –ø–µ—Ä–µ–¥—É–º–∞–ª–∏

```bash
# –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é
git checkout backup-before-rollback
git checkout -b master-new
git branch -D master
git branch -m master
```

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –∏–∑–º–µ–Ω–∏—Ç—Å—è –ø—Ä–∏ –æ—Ç–∫–∞—Ç–µ

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É –∫–æ–º–º–∏—Ç–∞–º–∏

```bash
# –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å —Å –≤–µ—Ä—Å–∏–∏ 1.0
git diff 705f5e2..HEAD

# –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å
git diff --name-only 705f5e2..HEAD

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π
git diff --stat 705f5e2..HEAD
```

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞

```bash
# –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ñ–∞–π–ª–∞
git log --oneline backend/src/messages/messages.service.ts

# –ö—Ç–æ –∏ –∫–æ–≥–¥–∞ –º–µ–Ω—è–ª —Ñ–∞–π–ª
git blame backend/src/messages/messages.service.ts
```

## üÜò –≠–∫—Å—Ç—Ä–µ–Ω–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

### –ï—Å–ª–∏ —Å–ª—É—á–∞–π–Ω–æ —Å–¥–µ–ª–∞–ª–∏ reset --hard

Git —Ö—Ä–∞–Ω–∏—Ç –≤—Å–µ –∫–æ–º–º–∏—Ç—ã 30 –¥–Ω–µ–π –≤ reflog!

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å—Ç–æ—Ä–∏—é –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π
git reflog

# –ù–∞–π—Ç–∏ –Ω—É–∂–Ω—ã–π –∫–æ–º–º–∏—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä c6b49e3)
# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
git reset --hard c6b49e3
```

### –ï—Å–ª–∏ —É–¥–∞–ª–∏–ª–∏ —Ñ–∞–π–ª

```bash
# –ù–∞–π—Ç–∏ –∫–æ–º–º–∏—Ç, –≥–¥–µ —Ñ–∞–π–ª –µ—â–µ –±—ã–ª
git log -- backend/deleted-file.ts

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ –∫–æ–º–º–∏—Ç–∞
git checkout c6b49e3 -- backend/deleted-file.ts
```

## üéì –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è artsvao

### –ü–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –¥–µ–ø–ª–æ–µ–º:

```bash
# 1. –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
git add .
git commit -m "feat: –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"

# 2. –°–æ–∑–¥–∞—Ç—å —Ç–µ–≥ –≤–µ—Ä—Å–∏–∏
git tag -a v1.1 -m "–í–µ—Ä—Å–∏—è 1.1: –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è"

# 3. –ó–∞–ø—É—à–∏—Ç—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
git push origin master --tags
```

### –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è:

```bash
# –û—Ç–º–µ—Ç–∏—Ç—å —Ä–∞–±–æ—á—É—é –≤–µ—Ä—Å–∏—é —Ç–µ–≥–æ–º
git tag -a prod-2025-11-23 -m "Production deploy 23.11.2025"

# –¢–µ–ø–µ—Ä—å –≤—Å–µ–≥–¥–∞ –º–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è:
git checkout prod-2025-11-23
```

## üìù –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –æ—Ç–∫–∞—Ç–æ–º

- [ ] –Ø –ø–æ–Ω–∏–º–∞—é, –∫–∞–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Ç–µ—Ä—è—é—Ç—Å—è
- [ ] –Ø —Å–æ–∑–¥–∞–ª —Ä–µ–∑–µ—Ä–≤–Ω—É—é –≤–µ—Ç–∫—É (–∏–ª–∏ —Ç–µ–≥)
- [ ] –Ø –ø—Ä–æ–≤–µ—Ä–∏–ª, —á—Ç–æ –æ—Ç–∫–∞—Ç—ã–≤–∞—é—Å—å –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–æ–º–º–∏—Ç
- [ ] –£ –º–µ–Ω—è –µ—Å—Ç—å backup –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ –æ—Ç–∫–∞—Ç –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–∏)
- [ ] –Ø –∑–Ω–∞—é, –∫–∞–∫ –≤–µ—Ä–Ω—É—Ç—å—Å—è –æ–±—Ä–∞—Ç–Ω–æ (—á–µ—Ä–µ–∑ reflog)

## üöÄ –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –°–æ–∑–¥–∞—Ç—å backup —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
git checkout -b backup-$(date +%Y%m%d-%H%M) && git add . && git commit -m "Backup" && git checkout master

# –û—Ç–∫–∞—Ç–∏—Ç—å—Å—è –Ω–∞ 1 –∫–æ–º–º–∏—Ç –Ω–∞–∑–∞–¥ (–º—è–≥–∫–æ)
git reset --soft HEAD~1

# –û—Ç–∫–∞—Ç–∏—Ç—å—Å—è –Ω–∞ 1 –∫–æ–º–º–∏—Ç –Ω–∞–∑–∞–¥ (–∂—ë—Å—Ç–∫–æ)
git reset --hard HEAD~1

# –û—Ç–∫–∞—Ç–∏—Ç—å—Å—è –Ω–∞ origin/master
git reset --hard origin/master

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á—Ç–æ –±—É–¥–µ—Ç –æ—Ç–∫–∞—á–µ–Ω–æ
git diff HEAD~1..HEAD

# –û—Ç–º–µ–Ω–∏—Ç—å –≤—Å–µ –Ω–µ–∑–∞–∫–æ–º–º–∏—á–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git restore .
```

---

**üí° –ó–æ–ª–æ—Ç–æ–µ –ø—Ä–∞–≤–∏–ª–æ:** –í—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ backup –ø–µ—Ä–µ–¥ –æ—Ç–∫–∞—Ç–æ–º!
