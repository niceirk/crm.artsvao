# –ü–ª–∞–Ω –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏ Email-—Å–∏—Å—Ç–µ–º—ã –¥–ª—è ArtsVAO

## –°—Ç–∞—Ç—É—Å: ‚úÖ –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∞
**–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞**: 19 –Ω–æ—è–±—Ä—è 2025
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è MVP**: 19 –Ω–æ—è–±—Ä—è 2025
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π**: Claude Code

---

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è SMTP

### –î–∞–Ω–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- **Email**: notification@artsvao.ru
- **–ü–∞—Ä–æ–ª—å**: artsvao5891
- **SMTP —Å–µ—Ä–≤–µ—Ä**: smtp.timeweb.ru
- **–ü–æ—Ä—Ç**: 465 (SSL/TLS)
- **–ó–∞—â–∏—Ç–∞**: SSL/TLS —Å —Å–∞–º–æ–≥–æ –Ω–∞—á–∞–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

### POP3/IMAP (–¥–ª—è —Å–ø—Ä–∞–≤–∫–∏)
- **POP3 —Å–µ—Ä–≤–µ—Ä**: pop3.timeweb.ru (–ø–æ—Ä—Ç 995 SSL)
- **IMAP —Å–µ—Ä–≤–µ—Ä**: imap.timeweb.ru (–ø–æ—Ä—Ç 993 SSL)

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
- **Backend**: NestJS
- **Email –±–∏–±–ª–∏–æ—Ç–µ–∫–∞**: `@nestjs-modules/mailer` + `nodemailer`
- **–®–∞–±–ª–æ–Ω—ã**: **React Email** (`@react-email/components` + `@react-email/render`) ‚úÖ
- **React**: React 18 (–¥–ª—è email –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
- **TypeScript**: –ü–æ–ª–Ω–∞—è type safety –¥–ª—è email –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–•—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫**: –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (.env + SystemSettings –≤ –ë–î)

### –¢–∏–ø—ã email-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
1. **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è** ‚úÖ (–∫—Ä–∏—Ç–∏—á–Ω–æ)
2. **–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** ‚úÖ (–∫—Ä–∏—Ç–∏—á–Ω–æ)
3. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–æ–±—ã—Ç–∏—è—Ö** ‚è∏Ô∏è (–≤–∞–∂–Ω–æ)

---

## –§–∞–∑–∞ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –±–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1.1 Backend –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
```bash
npm install --legacy-peer-deps react@^18 react-dom@^18 @react-email/components @react-email/render
npm install @nestjs-modules/mailer nodemailer
npm install -D @types/nodemailer
```

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ (19 –Ω–æ—è–±—Ä—è 2025, 17:30)

**–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã**:
- `@nestjs-modules/mailer@2.0.2` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å NestJS
- `nodemailer@7.0.10` - –æ—Ç–ø—Ä–∞–≤–∫–∞ email
- `react@18` - –¥–ª—è email –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- `react-dom@18` - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å React Email
- `@react-email/components` - UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è email
- `@react-email/render` - —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ React –≤ HTML
- `@types/nodemailer` (dev-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å)

**–í–∞–∂–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ**: ‚úÖ **–£—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω React Email!**

–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º —Å —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π (–∑–∞–≤–∏—Å–∞–Ω–∏–µ >10 –º–∏–Ω—É—Ç), —Ä–µ—à–µ–Ω–∏–µ –±—ã–ª–æ –Ω–∞–π–¥–µ–Ω–æ:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω —Ñ–ª–∞–≥ `--legacy-peer-deps` –¥–ª—è –æ–±—Ö–æ–¥–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å —É—Å–ø–µ—à–Ω–æ –∑–∞ **35 —Å–µ–∫—É–Ω–¥**
- –í—Å–µ 29 –ø–∞–∫–µ—Ç–æ–≤ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–§–∞–π–ª—ã**: `/backend/package.json`

### 1.2 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è .env ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
–î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SMTP –≤ `.env` –∏ `.env.example`:

```env
# Email Configuration (SMTP)
# –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π
SMTP_HOST="smtp.timeweb.ru"
SMTP_PORT="465"
SMTP_SECURE="true"
SMTP_USER="notification@artsvao.ru"
SMTP_PASSWORD="artsvao5891"
EMAIL_FROM="ArtsVAO <notification@artsvao.ru>"
FRONTEND_URL="http://localhost:3001"
```

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ (19 –Ω–æ—è–±—Ä—è 2025, 16:05)

**–§–∞–π–ª—ã**:
- `/backend/.env` - –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- `/backend/.env.example` - –¥–æ–±–∞–≤–ª–µ–Ω —à–∞–±–ª–æ–Ω —Å –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–∞–º–∏

### 1.3 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è TypeScript ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ JSX –≤ `tsconfig.json`:

```json
{
  "compilerOptions": {
    "jsx": "react",
    "esModuleInterop": true,
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
  }
}
```

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ (19 –Ω–æ—è–±—Ä—è 2025, 17:45)

---

## –§–∞–∑–∞ 2: –°–æ–∑–¥–∞–Ω–∏–µ Email-–º–æ–¥—É–ª—è (Backend)

### 2.1 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
–°–æ–∑–¥–∞–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `/backend/src/email/` —Å–æ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:

```
backend/src/email/
‚îú‚îÄ‚îÄ email.module.ts           # ‚úÖ –ú–æ–¥—É–ª—å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ MailerModule
‚îú‚îÄ‚îÄ email.service.ts          # ‚úÖ –°–µ—Ä–≤–∏—Å –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–∏—Å–µ–º
‚îî‚îÄ‚îÄ templates/                # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è React Email –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
    ‚îú‚îÄ‚îÄ PasswordResetEmail.tsx      # ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è
    ‚îú‚îÄ‚îÄ UserInviteEmail.tsx         # ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    ‚îî‚îÄ‚îÄ EventNotificationEmail.tsx  # ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–æ–±—ã—Ç–∏–∏
```

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω–æ (19 –Ω–æ—è–±—Ä—è 2025, 17:40)

**–°–æ–∑–¥–∞–Ω–Ω—ã–µ React Email –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**:

#### PasswordResetEmail.tsx
- TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: `PasswordResetEmailProps`
- Props: `firstName?`, `resetUrl`
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω —Å gradient header
- Styled –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Button, Section, Text, etc.)
- Warning box –¥–ª—è —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è (1 —á–∞—Å)
- –ó–∞–ø–∞—Å–Ω–∞—è —Ç–µ–∫—Å—Ç–æ–≤–∞—è —Å—Å—ã–ª–∫–∞

#### UserInviteEmail.tsx
- TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: `UserInviteEmailProps`
- Props: `firstName?`, `lastName?`, `email`, `role`, `inviterName`, `inviteUrl`
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π –±–ª–æ–∫ —Å email –∏ —Ä–æ–ª—å—é
- –ú–∞–ø–ø–∏–Ω–≥ —Ä–æ–ª–µ–π –Ω–∞ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫ (`ADMIN` ‚Üí "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä")
- –ö–Ω–æ–ø–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞—Ä–æ–ª—è
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–º —Å—Ä–æ–∫–µ –¥–µ–π—Å—Ç–≤–∏—è

#### EventNotificationEmail.tsx
- TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: `EventNotificationEmailProps`
- Props: `notificationType`, `eventTitle`, `eventDate`, `location?`, `organizer?`, `capacity?`, `description?`, `changes?`, `eventUrl`
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –±–µ–π–¥–∂ —Ç–∏–ø–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–Ω–æ–≤–æ–µ/–∏–∑–º–µ–Ω–µ–Ω–∏–µ/–æ—Ç–º–µ–Ω–∞)
- –£—Å–ª–æ–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –¥–ª—è –æ—Ç–º–µ–Ω–µ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
- –ë–ª–æ–∫ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å emoji –∏–∫–æ–Ω–∫–∞–º–∏
- –°–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–ª—è —Ç–∏–ø–∞ update
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ React Email –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**:
- ‚úÖ **Type Safety**: –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ TypeScript
- ‚úÖ **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥**: –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ UI —ç–ª–µ–º–µ–Ω—Ç—ã
- ‚úÖ **–ï–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å**: Gradient –¥–∏–∑–∞–π–Ω (—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π)
- ‚úÖ **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å**: Responsive design –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- ‚úÖ **Inline —Å—Ç–∏–ª–∏**: –û–±—ä–µ–∫—Ç—ã —Å—Ç–∏–ª–µ–π –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å email –∫–ª–∏–µ–Ω—Ç–∞–º–∏
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ IDE**: –ê–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç –∏ type hints

### 2.2 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è EmailModule ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
**–§–∞–π–ª**: `/backend/src/email/email.module.ts`

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω MailerModule —Å SSL/TLS —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º (–ø–æ—Ä—Ç 465)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–∑ .env —á–µ—Ä–µ–∑ ConfigService
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (from)
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç EmailService –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª—è—Ö

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ (19 –Ω–æ—è–±—Ä—è 2025, 17:20)

### 2.3 Email Service –º–µ—Ç–æ–¥—ã ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
**–§–∞–π–ª**: `/backend/src/email/email.service.ts`

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã:

#### `sendPasswordReset(email, token, firstName?)`
- –†–µ–Ω–¥–µ—Ä–∏—Ç `PasswordResetEmail` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ HTML
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `@react-email/render` —Å `React.createElement()`
- –§–æ—Ä–º–∏—Ä—É–µ—Ç URL: `${FRONTEND_URL}/auth/reset-password?token=${token}`
- –õ–æ–≥–∏—Ä—É–µ—Ç —É—Å–ø–µ—à–Ω—É—é –æ—Ç–ø—Ä–∞–≤–∫—É
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

#### `sendUserInvite(email, token, inviterName, userRole, firstName?, lastName?)`
- –†–µ–Ω–¥–µ—Ä–∏—Ç `UserInviteEmail` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ HTML
- –§–æ—Ä–º–∏—Ä—É–µ—Ç URL: `${FRONTEND_URL}/auth/set-password?token=${token}`
- –ü–µ—Ä–µ–¥–∞–µ—Ç —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –õ–æ–≥–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç

#### `sendEventNotification(email, eventData, notificationType)`
- –†–µ–Ω–¥–µ—Ä–∏—Ç `EventNotificationEmail` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ HTML
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç 3 —Ç–∏–ø–∞: `'new'`, `'update'`, `'cancel'`
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π subject –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞
- –ü–µ—Ä–µ–¥–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–ª—è —Ç–∏–ø–∞ update

#### `sendEventNotificationBulk(emails[], eventData, notificationType)`
- –ú–∞—Å—Å–æ–≤–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É: `{ success: number, failed: number }`
- –ü—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –æ—Ç–ø—Ä–∞–≤–æ–∫

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- –í—Å–µ –º–µ—Ç–æ–¥—ã –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ (async/await)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `await render()` –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è React ‚Üí HTML
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å try-catch
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ NestJS Logger
- ConfigService –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è FRONTEND_URL

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ (19 –Ω–æ—è–±—Ä—è 2025, 17:35)

---

## –§–∞–∑–∞ 3: React Email —à–∞–±–ª–æ–Ω—ã ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–æ–∑–¥–∞–Ω—ã (19 –Ω–æ—è–±—Ä—è 2025, 17:15)

–í–º–µ—Å—Ç–æ Handlebars –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è React Email –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (.tsx) —Å –ø–æ–ª–Ω—ã–º TypeScript –∫–æ–¥–æ–º.

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ React Email –Ω–∞–¥ Handlebars:

| –ö—Ä–∏—Ç–µ—Ä–∏–π | Handlebars | React Email |
|----------|------------|-------------|
| **Type Safety** | ‚ùå –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤ | ‚úÖ TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã |
| **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** | ‚ùå –¢–æ–ª—å–∫–æ —à–∞–±–ª–æ–Ω—ã | ‚úÖ –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã |
| **–ê–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç** | ‚ùå –¢–æ–ª—å–∫–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ | ‚úÖ Props + –º–µ—Ç–æ–¥—ã |
| **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥** | ‚ùå –°–ª–æ–∂–Ω—ã–π | ‚úÖ IDE –ø–æ–¥–¥–µ—Ä–∂–∫–∞ |
| **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏** | ‚ùå | ‚úÖ |
| **–°–ª–æ–∂–Ω–æ—Å—Ç—å** | –ü—Ä–æ—Å—Ç–∞—è | –°—Ä–µ–¥–Ω—è—è |
| **–†–∞–∑–º–µ—Ä –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** | –ú–µ–Ω—å—à–µ (~5 MB) | –ë–æ–ª—å—à–µ (~29 –ø–∞–∫–µ—Ç–æ–≤) |
| **Dev Preview** | ‚ùå | ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å |

### 3.1-3.3 –í—Å–µ —à–∞–±–ª–æ–Ω—ã ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
–°–º. —Ä–∞–∑–¥–µ–ª 2.1 –≤—ã—à–µ - –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ–ø–∏—Å–∞–Ω—ã –¥–µ—Ç–∞–ª—å–Ω–æ.

---

## –§–∞–∑–∞ 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏

### 4.1 Auth Service ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
**–§–∞–π–ª**: `/backend/src/auth/auth.service.ts`

–ò–∑–º–µ–Ω–µ–Ω–∏—è:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `EmailService`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—ä–µ–∫—Ü–∏—è EmailService –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
- ‚úÖ **–°—Ç—Ä–æ–∫–∞ 200-210**: –ó–∞–º–µ–Ω–µ–Ω TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –Ω–∞ –≤—ã–∑–æ–≤ `emailService.sendPasswordReset()`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω try-catch –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏ –æ—à–∏–±–æ–∫
- ‚úÖ –û—à–∏–±–∫–∞ email –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞

**–ö–æ–¥ (–º–µ—Ç–æ–¥ `forgotPassword`)**:
```typescript
try {
  await this.emailService.sendPasswordReset(
    user.email,
    token,
    user.firstName || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å',
  );
  this.logger.log(`Password reset email sent to ${user.email}`);
} catch (error) {
  this.logger.error(`Failed to send password reset email to ${user.email}:`, error);
  // –ù–µ –±–ª–æ–∫–∏—Ä—É–µ–º –æ–ø–µ—Ä–∞—Ü–∏—é - —Ç–æ–∫–µ–Ω —É–∂–µ —Å–æ–∑–¥–∞–Ω
}
```

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ (19 –Ω–æ—è–±—Ä—è 2025, 17:25)

### 4.2 Users Service ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
**–§–∞–π–ª**: `/backend/src/users/users.service.ts`

–ò–∑–º–µ–Ω–µ–Ω–∏—è:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `EmailService`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—ä–µ–∫—Ü–∏—è EmailService –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
- ‚úÖ **–°—Ç—Ä–æ–∫–∞ 314-327**: –ó–∞–º–µ–Ω–µ–Ω TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –Ω–∞ –≤—ã–∑–æ–≤ `emailService.sendUserInvite()`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ invite token –≤ `passwordResetToken` —Ç–∞–±–ª–∏—Ü—É (—Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è 72 —á–∞—Å–∞)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏–∑–º–µ–Ω–µ–Ω–æ –Ω–∞ "–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ email"

**–ö–æ–¥ (–º–µ—Ç–æ–¥ `createInvite`)**:
```typescript
// –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–æ–∫–µ–Ω –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
const expiresAt = new Date();
expiresAt.setHours(expiresAt.getHours() + 72); // 72 —á–∞—Å–∞ –¥–ª—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è

await this.prisma.passwordResetToken.create({
  data: {
    userId: newUser.id,
    token: inviteToken,
    expiresAt,
  },
});

// –û—Ç–ø—Ä–∞–≤–ª—è–µ–º email
try {
  await this.emailService.sendUserInvite(
    newUser.email,
    inviteToken,
    '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä ArtsVAO',
    newUser.role,
    newUser.firstName,
    newUser.lastName,
  );
  this.logger.log(`Invite email sent to ${newUser.email}`);
} catch (error) {
  this.logger.error(`Failed to send invite email to ${newUser.email}:`, error);
}
```

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ (19 –Ω–æ—è–±—Ä—è 2025, 17:30)

### 4.3 Events Module (–¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ —Å–æ–±—ã—Ç–∏—è—Ö) ‚è∏Ô∏è –û–ñ–ò–î–ê–ï–¢
**–§–∞–π–ª**: `/backend/src/events/events.service.ts`

–¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –≤—ã–∑–æ–≤—ã `emailService.sendEventNotification()` –ø—Ä–∏:
- –°–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —Å–æ–±—ã—Ç–∏—è (`create` method)
- –ò–∑–º–µ–Ω–µ–Ω–∏–∏ –≤—Ä–µ–º–µ–Ω–∏/–º–µ—Å—Ç–∞ —Å–æ–±—ã—Ç–∏—è (`update` method)
- –û—Ç–º–µ–Ω–µ —Å–æ–±—ã—Ç–∏—è (`cancel` method)

**–£—Å–ª–æ–≤–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏**:
- –¢–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º (status = ACTIVE)
- –° —É—á–µ—Ç–æ–º –Ω–∞—Å—Ç—Ä–æ–µ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–µ—Å–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ - —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø–æ–ª—è (–¥–∞—Ç–∞, –≤—Ä–µ–º—è, –º–µ—Å—Ç–æ)

**–°—Ç–∞—Ç—É—Å**: ‚è∏Ô∏è –û—Ç–ª–æ–∂–µ–Ω–æ (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è MVP)

---

## –§–∞–∑–∞ 5: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –º–æ–¥—É–ª—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

### 5.1 App Module ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
**–§–∞–π–ª**: `/backend/src/app.module.ts`

–î–æ–±–∞–≤–ª–µ–Ω–æ:
```typescript
import { EmailModule } from './email/email.module';

@Module({
  imports: [
    // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∏–º–ø–æ—Ä—Ç—ã
    EmailModule,
  ],
})
export class AppModule {}
```

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ (19 –Ω–æ—è–±—Ä—è 2025, 17:22)

### 5.2 Auth Module ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
**–§–∞–π–ª**: `/backend/src/auth/auth.module.ts`

–î–æ–±–∞–≤–ª–µ–Ω–æ:
```typescript
import { EmailModule } from '../email/email.module';

@Module({
  imports: [
    // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∏–º–ø–æ—Ä—Ç—ã
    EmailModule,
  ],
})
export class AuthModule {}
```

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ (19 –Ω–æ—è–±—Ä—è 2025, 17:27)

### 5.3 Users Module ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
**–§–∞–π–ª**: `/backend/src/users/users.module.ts`

–î–æ–±–∞–≤–ª–µ–Ω–æ:
```typescript
import { EmailModule } from '../email/email.module';

@Module({
  imports: [
    PrismaModule,
    EmailModule,
  ],
})
export class UsersModule {}
```

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ (19 –Ω–æ—è–±—Ä—è 2025, 17:32)

---

## –§–∞–∑–∞ 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 6.1 –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ (19 –Ω–æ—è–±—Ä—è 2025, 17:50)

–ö–æ–º–∞–Ω–¥–∞: `npm run build`
–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –£—Å–ø–µ—à–Ω–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è –≤—Å–µ—Ö TypeScript —Ñ–∞–π–ª–æ–≤

### 6.2 –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚è∏Ô∏è –û–ñ–ò–î–ê–ï–¢

**–¢–µ—Å—Ç 1: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è**
1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ `/forgot-password`
2. –í–≤–µ—Å—Ç–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π email
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–∏—Å—å–º–∞
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å HTML —Ä–µ–Ω–¥–µ—Ä–∞
5. –ü–µ—Ä–µ–π—Ç–∏ –ø–æ —Å—Å—ã–ª–∫–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å
6. –£–±–µ–¥–∏—Ç—å—Å—è –≤ —É—Å–ø–µ—à–Ω–æ–π —Å–º–µ–Ω–µ –ø–∞—Ä–æ–ª—è

**–¢–µ—Å—Ç 2: –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
1. –í–æ–π—Ç–∏ –∫–∞–∫ ADMIN
2. –ü–µ—Ä–µ–π—Ç–∏ –≤ —Ä–∞–∑–¥–µ–ª "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏"
3. –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –¥–ª—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–∏—Å—å–º–∞
5. –ü–µ—Ä–µ–π—Ç–∏ –ø–æ —Å—Å—ã–ª–∫–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
6. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–æ–ª—å
7. –í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É —Å –Ω–æ–≤—ã–º–∏ —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

**–¢–µ—Å—Ç 3: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Å–æ–±—ã—Ç–∏–∏** (–ø–æ—Å–ª–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Events)
1. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏
3. –ò–∑–º–µ–Ω–∏—Ç—å –¥–∞—Ç—É/–≤—Ä–µ–º—è —Å–æ–±—ã—Ç–∏—è
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏
5. –û—Ç–º–µ–Ω–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ
6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ—Ç–º–µ–Ω–µ

**–°—Ç–∞—Ç—É—Å**: ‚è∏Ô∏è –û–∂–∏–¥–∞–µ—Ç —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 6.3 –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è ‚è∏Ô∏è –û–ñ–ò–î–ê–ï–¢
–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ email –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–∞—Ö:
- Gmail (web + mobile)
- Outlook (web + desktop)
- Apple Mail
- –Ø–Ω–¥–µ–∫—Å.–ü–æ—á—Ç–∞
- Mail.ru

**–°—Ç–∞—Ç—É—Å**: ‚è∏Ô∏è –û–∂–∏–¥–∞–µ—Ç —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 6.4 –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ ‚è∏Ô∏è –û–ñ–ò–î–ê–ï–¢
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ SMTP —Å–µ—Ä–≤–µ—Ä–∞
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ—à–∏–±–∫–∏ email –Ω–µ –ª–æ–º–∞—é—Ç –æ—Å–Ω–æ–≤–Ω—É—é –ª–æ–≥–∏–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ç–æ–∫–µ–Ω—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ email

**–°—Ç–∞—Ç—É—Å**: ‚è∏Ô∏è –û–∂–∏–¥–∞–µ—Ç —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

## –§–∞–∑–∞ 7: –£–ª—É—á—à–µ–Ω–∏—è –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 7.1 –û—á–µ—Ä–µ–¥—å –æ—Ç–ø—Ä–∞–≤–∫–∏ ‚¨ú –ù–ï –ù–ê–ß–ê–¢–û
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –ù–∏–∑–∫–∏–π

–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:
- `@nestjs/bull` + `bull`
- Redis –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—á–µ—Ä–µ–¥–∏

–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ email –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—Ç—Ä–∞–∏ –ø—Ä–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö SMTP
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ—á–µ—Ä–µ–¥–∏ —á–µ—Ä–µ–∑ Bull Board

### 7.2 Email-–ª–æ–≥ –≤ –ë–î ‚¨ú –ù–ï –ù–ê–ß–ê–¢–û
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°—Ä–µ–¥–Ω–∏–π

–°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å `EmailLog` –≤ Prisma:
```prisma
model EmailLog {
  id          String   @id @default(uuid())
  recipient   String
  subject     String
  templateType String  @map("template_type") // password-reset, user-invite, event-notification
  status      String   // sent, failed, queued
  error       String?
  sentAt      DateTime? @map("sent_at")
  createdAt   DateTime @default(now()) @map("created_at")

  @@index([recipient])
  @@index([status])
  @@index([createdAt])
  @@map("email_logs")
}
```

–õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å:
- –ö–æ–º—É –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ
- –¢–∏–ø –ø–∏—Å—å–º–∞
- –°—Ç–∞—Ç—É—Å –æ—Ç–ø—Ä–∞–≤–∫–∏
- –í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏
- –û—à–∏–±–∫–∏ (–µ—Å–ª–∏ –±—ã–ª–∏)

### 7.3 –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚¨ú –ù–ï –ù–ê–ß–ê–¢–û
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°—Ä–µ–¥–Ω–∏–π

–î–æ–±–∞–≤–∏—Ç—å –≤ –º–æ–¥–µ–ª—å User:
```prisma
model User {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è
  emailNotifications Json? @map("email_notifications")
  // –°—Ç—Ä—É–∫—Ç—É—Ä–∞: { events: boolean, reminders: boolean, system: boolean }
}
```

–°–æ–∑–¥–∞—Ç—å UI –≤ –ø—Ä–æ—Ñ–∏–ª–µ:
- –ß–µ–∫–±–æ–∫—Å—ã –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è/–≤—ã–∫–ª—é—á–µ–Ω–∏—è —Ç–∏–ø–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —á–µ—Ä–µ–∑ API
- –£—á–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ

### 7.4 Dev Preview Server ‚¨ú –ù–ï –ù–ê–ß–ê–¢–û
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –ù–∏–∑–∫–∏–π

–î–æ–±–∞–≤–∏—Ç—å React Email dev server –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –ø—Ä–µ–≤—å—é:
```bash
npm install -D @react-email/cli
```

–î–æ–±–∞–≤–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –≤ package.json:
```json
{
  "scripts": {
    "email:dev": "email dev"
  }
}
```

–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `.react-email/emails/` –¥–ª—è –ø—Ä–µ–≤—å—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

### 7.5 –û–±—â–∏–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã ‚¨ú –ù–ï –ù–ê–ß–ê–¢–û
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –ù–∏–∑–∫–∏–π

–í—ã–Ω–µ—Å—Ç–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `EmailHeader.tsx` - gradient header —Å –ª–æ–≥–æ—Ç–∏–ø–æ–º
- `EmailFooter.tsx` - —Ñ—É—Ç–µ—Ä —Å –∫–æ–ø–∏—Ä–∞–π—Ç–æ–º
- `EmailButton.tsx` - —Å—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–Ω–æ–ø–∫–∞
- `EmailLayout.tsx` - –æ–±—â–∏–π layout –¥–ª—è –≤—Å–µ—Ö –ø–∏—Å–µ–º

–≠—Ç–æ —É–º–µ–Ω—å—à–∏—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –∏ —É–ø—Ä–æ—Å—Ç–∏—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É.

---

## –¢–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å

### ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ (19 –Ω–æ—è–±—Ä—è 2025)
- ‚úÖ –ê–Ω–∞–ª–∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Å—Ç–µ–∫–∞
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–Ω–∞ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- ‚úÖ **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ React Email –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** (—Ä–µ—à–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å `--legacy-peer-deps`)
- ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ SMTP** –≤ `.env` –∏ `.env.example`
- ‚úÖ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è TypeScript** (jsx: "react")
- ‚úÖ **–°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π** `/backend/src/email/`
- ‚úÖ **–°–æ–∑–¥–∞–Ω–∏–µ –≤—Å–µ—Ö React Email –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**:
  - `PasswordResetEmail.tsx` - –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
  - `UserInviteEmail.tsx` - –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - `EventNotificationEmail.tsx` - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–æ–±—ã—Ç–∏—è—Ö
- ‚úÖ **–°–æ–∑–¥–∞–Ω–∏–µ EmailModule** —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π MailerModule
- ‚úÖ **–°–æ–∑–¥–∞–Ω–∏–µ EmailService** —Å –º–µ—Ç–æ–¥–∞–º–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ (–∏—Å–ø–æ–ª—å–∑—É—è `@react-email/render`)
- ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è EmailService –≤ AuthService** (–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è)
- ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è EmailService –≤ UsersService** (–ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è)
- ‚úÖ **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è EmailModule** –≤ AppModule, AuthModule, UsersModule
- ‚úÖ **–£—Å–ø–µ—à–Ω–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞** –±–µ–∑ –æ—à–∏–±–æ–∫

### ‚è∏Ô∏è –û–∂–∏–¥–∞–µ—Ç
- ‚è∏Ô∏è –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–∏—Å–µ–º
- ‚è∏Ô∏è –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö email-–∫–ª–∏–µ–Ω—Ç–∞—Ö
- ‚è∏Ô∏è –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

### ‚¨ú –ù–µ –Ω–∞—á–∞—Ç–æ
- ‚¨ú –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Events –º–æ–¥—É–ª–µ–º (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–æ–±—ã—Ç–∏—è—Ö)
- ‚¨ú –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–æ—á–µ—Ä–µ–¥—å, –ª–æ–≥–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, dev preview)

---

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏

### Milestone 1: –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (MVP) ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û

**–¶–µ–ª—å**: –†–∞–±–æ—Ç–∞—é—â–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ email –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è –∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π

**–ü—Ä–æ–≥—Ä–µ—Å—Å**: 100% ‚úÖ

**–í–∫–ª—é—á–∞–µ—Ç**:
- [‚úÖ] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- [‚úÖ] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è SMTP –≤ .env
- [‚úÖ] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è TypeScript –¥–ª—è JSX
- [‚úÖ] –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
- [‚úÖ] React Email –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
- [‚úÖ] Email –º–æ–¥—É–ª—å –∏ —Å–µ—Ä–≤–∏—Å
- [‚úÖ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Auth –∏ Users
- [‚è∏Ô∏è] –ë–∞–∑–æ–≤–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–æ–∂–∏–¥–∞–µ—Ç —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

**–ó–∞–≤–µ—Ä—à–µ–Ω–æ**: 19 –Ω–æ—è–±—Ä—è 2025, 17:50

### Milestone 2: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–æ–±—ã—Ç–∏—è—Ö

**–¶–µ–ª—å**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ email –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏/–∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ–±—ã—Ç–∏–π

**–ü—Ä–æ–≥—Ä–µ—Å—Å**: 40% ‚è∏Ô∏è

**–í–∫–ª—é—á–∞–µ—Ç**:
- [‚úÖ] React Email –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–æ–±—ã—Ç–∏–∏
- [‚úÖ] –ú–µ—Ç–æ–¥ `sendEventNotification()` –≤ EmailService
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Events –º–æ–¥—É–ª–µ–º
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**ETA**: 2-3 —á–∞—Å–∞ —Ä–∞–±–æ—Ç—ã

### Milestone 3: Production Ready

**–¶–µ–ª—å**: –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

**–í–∫–ª—é—á–∞–µ—Ç**:
- [ ] –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ –≤—Å–µ—Ö email-–∫–ª–∏–µ–Ω—Ç–∞—Ö
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—Ç–ø—Ä–∞–≤–æ–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ - EmailLog)
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

**ETA**: 2-4 —á–∞—Å–∞ —Ä–∞–±–æ—Ç—ã

---

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –î–ª–∏—Ç–µ–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ React Email –ø–∞–∫–µ—Ç–æ–≤ ‚úÖ –†–ï–®–ï–ù–û
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–µ—à–µ–Ω–æ (19 –Ω–æ—è–±—Ä—è 2025, 17:10)

**–û–ø–∏—Å–∞–Ω–∏–µ**:
- –ü–µ—Ä–≤–∞—è –ø–æ–ø—ã—Ç–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ `@react-email/components` –∏ `@react-email/render` –∑–∞–Ω–∏–º–∞–ª–∞ > 10 –º–∏–Ω—É—Ç –∏ –∑–∞–≤–∏—Å–∞–ª–∞
- node_modules –±—ã–ª–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã (ENOTEMPTY –æ—à–∏–±–∫–∞)
- –ú–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ npm

**–ü–æ–ø—ã—Ç–∫–∞ —Ä–µ—à–µ–Ω–∏—è (–ù–ï —Å—Ä–∞–±–æ—Ç–∞–ª–∞)**:
1. –£–¥–∞–ª–µ–Ω—ã node_modules –∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
2. –û—Ç–∫–∞–∑ –æ—Ç React Email –≤ –ø–æ–ª—å–∑—É Handlebars —à–∞–±–ª–æ–Ω–æ–≤
3. –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã `@nestjs-modules/mailer`, `nodemailer`, `handlebars` –∑–∞ ~2 –º–∏–Ω—É—Ç—ã

**–§–∏–Ω–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (‚úÖ –°–†–ê–ë–û–¢–ê–õ–û)**:
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω —Ñ–ª–∞–≥ `--legacy-peer-deps` –¥–ª—è –æ–±—Ö–æ–¥–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ peer dependencies
2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö React Email –ø–∞–∫–µ—Ç–æ–≤ –∑–∞ **35 —Å–µ–∫—É–Ω–¥**:
   ```bash
   npm install --legacy-peer-deps react@^18 react-dom@^18 @react-email/components @react-email/render
   ```
3. –°–æ–∑–¥–∞–Ω—ã React Email –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤–º–µ—Å—Ç–æ Handlebars —à–∞–±–ª–æ–Ω–æ–≤

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: ‚úÖ –£—Å–ø–µ—à–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å React Email, type safety, –ª—É—á—à–∏–π DX

### –ü—Ä–æ–±–ª–µ–º–∞ 2: TypeScript –æ—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ JSX ‚úÖ –†–ï–®–ï–ù–û
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–µ—à–µ–Ω–æ (19 –Ω–æ—è–±—Ä—è 2025, 17:45)

**–û–ø–∏—Å–∞–Ω–∏–µ**:
- –û—à–∏–±–∫–∞: `Cannot use JSX unless the '--jsx' flag is provided`
- React Email –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–ª–∏—Å—å

**–†–µ—à–µ–Ω–∏–µ**:
–î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `tsconfig.json`:
```json
{
  "compilerOptions": {
    "jsx": "react",
    "esModuleInterop": true
  }
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: ‚úÖ –ü—Ä–æ–µ–∫—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞ 3: render() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise ‚úÖ –†–ï–®–ï–ù–û
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–µ—à–µ–Ω–æ (19 –Ω–æ—è–±—Ä—è 2025, 17:47)

**–û–ø–∏—Å–∞–Ω–∏–µ**:
- `@react-email/render` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `Promise<string>`, –∞ –Ω–µ `string`
- TypeScript –æ—à–∏–±–∫–∏: `Type 'Promise<string>' is not assignable to type 'string'`

**–†–µ—à–µ–Ω–∏–µ**:
–î–æ–±–∞–≤–ª–µ–Ω `await` –ø–µ—Ä–µ–¥ –≤—Å–µ–º–∏ –≤—ã–∑–æ–≤–∞–º–∏ `render()`:
```typescript
const html = await render(
  React.createElement(PasswordResetEmail, {
    firstName,
    resetUrl,
  }),
);
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: ‚úÖ –û—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã

---

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: Handlebars vs React Email

### –ò—Ç–æ–≥–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ: React Email ‚úÖ

| –ö—Ä–∏—Ç–µ—Ä–∏–π | Handlebars | React Email | –ü–æ–±–µ–¥–∏—Ç–µ–ª—å |
|----------|------------|-------------|------------|
| **–£—Å—Ç–∞–Ω–æ–≤–∫–∞** | ~2 –º–∏–Ω | 35 —Å–µ–∫ —Å —Ñ–ª–∞–≥–æ–º | ‚öñÔ∏è –†–∞–≤–Ω—ã |
| **Type Safety** | ‚ùå –ù–µ—Ç | ‚úÖ TypeScript | ‚úÖ React Email |
| **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** | ‚ùå –¢–æ–ª—å–∫–æ —à–∞–±–ª–æ–Ω—ã | ‚úÖ –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ | ‚úÖ React Email |
| **–ê–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç** | ‚ùå –¢–æ–ª—å–∫–æ {{vars}} | ‚úÖ Props + –º–µ—Ç–æ–¥—ã | ‚úÖ React Email |
| **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥** | ‚ùå –°–ª–æ–∂–Ω—ã–π | ‚úÖ IDE –ø–æ–¥–¥–µ—Ä–∂–∫–∞ | ‚úÖ React Email |
| **Dev Preview** | ‚ùå | ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ | ‚úÖ React Email |
| **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏** | ‚ùå | ‚úÖ | ‚úÖ React Email |
| **–†–∞–∑–º–µ—Ä –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** | –ú–µ–Ω—å—à–µ (~5 MB) | –ë–æ–ª—å—à–µ (~29 pkg) | ‚úÖ Handlebars |
| **–°–ª–æ–∂–Ω–æ—Å—Ç—å** | –ü—Ä–æ—Å—Ç–∞—è | –°—Ä–µ–¥–Ω—è—è | ‚úÖ Handlebars |
| **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è | –í—ã—Å–æ–∫–∞—è | ‚úÖ React Email |

### –í–µ—Ä–¥–∏–∫—Ç:
**React Email** –ø–æ–±–µ–¥–∏–ª —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º **7:2** üèÜ

React Email –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
- ‚úÖ –õ—É—á—à—É—é type safety
- ‚úÖ –ë–æ–ª–µ–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π DX
- ‚úÖ –õ–µ–≥—á–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥
- ‚úÖ –ü—Ä–æ—â–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ —Ä–µ—Å—É—Ä—Å—ã

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [NestJS Mailer Module](https://github.com/nest-modules/mailer) - –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [React Email](https://react.email/) - –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç
- [React Email Components](https://react.email/docs/components/html) - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- [Nodemailer](https://nodemailer.com) - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ email
- [Email Design Best Practices](https://www.litmus.com/blog/best-practices-for-plain-text-emails-a-look-at-why-theyre-important) - –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### SMTP –ø—Ä–æ–≤–∞–π–¥–µ—Ä
- **–ü—Ä–æ–≤–∞–π–¥–µ—Ä**: Timeweb
- **–°–µ—Ä–≤–µ—Ä**: smtp.timeweb.ru
- **–ü–æ—Ä—Ç**: 465 (SSL/TLS)
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: https://timeweb.com/ru/help/pages/viewpage.action?pageId=4358522

### TypeScript & React
- [TypeScript Handbook](https://www.typescriptlang.org/docs/handbook/intro.html)
- [React Email TypeScript](https://react.email/docs/utilities/render#typescript)

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ (0-1 –¥–µ–Ω—å):
1. ‚úÖ ~~–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É email –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è~~
2. ‚úÖ ~~–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π~~
3. ‚è∏Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ Gmail, Outlook, Apple Mail

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ (1-2 –Ω–µ–¥–µ–ª–∏):
1. ‚¨ú –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–æ–±—ã—Ç–∏—è—Ö –≤ Events –º–æ–¥—É–ª—å
2. ‚¨ú –î–æ–±–∞–≤–∏—Ç—å email-–ª–æ–≥ –≤ –ë–î –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
3. ‚¨ú –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ (1+ –º–µ—Å—è—Ü):
1. ‚¨ú –î–æ–±–∞–≤–∏—Ç—å –æ—á–µ—Ä–µ–¥—å –æ—Ç–ø—Ä–∞–≤–∫–∏ (Bull + Redis)
2. ‚¨ú –°–æ–∑–¥–∞—Ç—å dev preview server –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
3. ‚¨ú –í—ã–Ω–µ—Å—Ç–∏ –æ–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Header, Footer, Button)
4. ‚¨ú –î–æ–±–∞–≤–∏—Ç—å A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ email —à–∞–±–ª–æ–Ω–æ–≤
5. ‚¨ú –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å email –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π (–æ—Ç–∫—Ä—ã—Ç–∏—è, –∫–ª–∏–∫–∏)

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 19 –Ω–æ—è–±—Ä—è 2025, 18:00 MSK
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞**: 3.0 (–ø–æ–ª–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ React Email –∑–∞–≤–µ—Ä—à–µ–Ω–∞)
**–°—Ç–∞—Ç—É—Å**: ‚úÖ MVP –≥–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
