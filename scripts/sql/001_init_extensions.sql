-- ============================================================================
-- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π PostgreSQL –¥–ª—è Cultural Center Management System
-- ============================================================================
-- –í–µ—Ä—Å–∏—è: 1.0
-- –î–∞—Ç–∞: 2025-11-13
-- PostgreSQL: 18.0+
--
-- –≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è PostgreSQL –¥–ª—è —Ä–∞–±–æ—Ç—ã
-- —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫—É–ª—å—Ç—É—Ä–Ω—ã–º —Ü–µ–Ω—Ç—Ä–æ–º.
-- ============================================================================

-- –í–∫–ª—é—á–∏—Ç—å –≤—ã–≤–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏–π
\echo ''
\echo '========================================='
\echo '–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π PostgreSQL'
\echo '========================================='
\echo ''

-- 1. UUID –≥–µ–Ω–µ—Ä–∞—Ü–∏—è (–¥–ª—è –ø–µ—Ä–≤–∏—á–Ω—ã—Ö –∫–ª—é—á–µ–π)
\echo 'üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ uuid-ossp...'
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";
\echo '‚úÖ uuid-ossp —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω'
\echo ''

-- 2. –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ç—Ä–∏–≥—Ä–∞–º–º
\echo 'üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ pg_trgm (–ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫)...'
CREATE EXTENSION IF NOT EXISTS "pg_trgm";
\echo '‚úÖ pg_trgm —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω'
\echo ''

-- 3. –£–ª—É—á—à–µ–Ω–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
\echo 'üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ btree_gin...'
CREATE EXTENSION IF NOT EXISTS "btree_gin";
\echo '‚úÖ btree_gin —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω'
\echo ''

\echo 'üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ btree_gist...'
CREATE EXTENSION IF NOT EXISTS "btree_gist";
\echo '‚úÖ btree_gist —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω'
\echo ''

-- 4. Unaccent –¥–ª—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
\echo 'üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ unaccent (–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞)...'
CREATE EXTENSION IF NOT EXISTS "unaccent";
\echo '‚úÖ unaccent —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω'
\echo ''

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π
\echo '========================================='
\echo '–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π'
\echo '========================================='
SELECT
    extname as "–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ",
    extversion as "–í–µ—Ä—Å–∏—è"
FROM pg_extension
WHERE extname IN ('uuid-ossp', 'pg_trgm', 'btree_gin', 'btree_gist', 'unaccent', 'plpgsql')
ORDER BY extname;

\echo ''
\echo '‚úÖ –í—Å–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã!'
\echo ''
