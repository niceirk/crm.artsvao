# UI –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

–°–æ–∑–¥–∞–Ω –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π **–¥–∏–∞–ª–æ–≥–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤**, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ø–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ **"–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Pyrus"**:
1. –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
2. –ï—Å–ª–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è API `/api/integrations/pyrus/detect-conflicts`
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –¥–∏–∞–ª–æ–≥–æ–≤–æ–µ –æ–∫–Ω–æ** —Å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º–∏

### 2. –î–∏–∞–ª–æ–≥–æ–≤–æ–µ –æ–∫–Ω–æ —Å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º–∏

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** `frontend/components/sync/ConflictResolutionDialog.tsx`

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- üìä **–¢–∞–±–ª–∏—Ü–∞ —Å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º–∏** (—Ç–∏–ø—ã –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –∏ –ø–æ–º–µ—â–µ–Ω–∏—è)
- üìù **–î–µ—Ç–∞–ª–∏ –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞:**
  - –î–∞–Ω–Ω—ã–µ –≤ CRM (–Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, –¥–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è)
  - –î–∞–Ω–Ω—ã–µ –≤ Pyrus (–Ω–∞–∑–≤–∞–Ω–∏–µ)
  - –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- üéØ **–í—ã–±–æ—Ä –¥–µ–π—Å—Ç–≤–∏—è** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞:
  - ‚úÖ **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CRM** - –æ–±–Ω–æ–≤–∏—Ç—å Pyrus –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ CRM
  - ‚úÖ **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Pyrus** - –æ–±–Ω–æ–≤–∏—Ç—å CRM –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ Pyrus
  - ‚è≠Ô∏è **–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å** - –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –æ–±—ä–µ–∫—Ç

### 3. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π

–ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É **"–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è"**:
1. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∑–∞–ø—Ä–æ—Å `/api/integrations/pyrus/sync-with-resolution`
2. Backend –ø—Ä–∏–º–µ–Ω—è–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
3. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ toast-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–∏
4. –°–ø–∏—Å–æ–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

## –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã

### –°—Ü–µ–Ω–∞—Ä–∏–π: –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Ç–∏–ø–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ù–∞–∂–∏–º–∞–µ—Ç "–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Pyrus"

2. –°–∏—Å—Ç–µ–º–∞: –û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç:
   - CRM: "–∞–∫—Ü–∏—è1" (–∏–∑–º–µ–Ω–µ–Ω–æ 17.11.2025 20:00)
   - Pyrus: "–∞–∫—Ü–∏—è"

3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –¥–∏–∞–ª–æ–≥:
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ ‚ö†Ô∏è –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏                   ‚îÇ
   ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
   ‚îÇ –ù–∞–π–¥–µ–Ω–æ 1 –∫–æ–Ω—Ñ–ª–∏–∫—Ç(–æ–≤). –í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:              ‚îÇ
   ‚îÇ                                                          ‚îÇ
   ‚îÇ üìä –¢–∏–ø—ã –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π (1 –∫–æ–Ω—Ñ–ª–∏–∫—Ç)                        ‚îÇ
   ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
   ‚îÇ ‚îÇ CRM        ‚îÇ Pyrus     ‚îÇ –ü–æ—Å–ª–µ–¥–Ω—è—è   ‚îÇ –î–µ–π—Å—Ç–≤–∏–µ     ‚îÇ ‚îÇ
   ‚îÇ ‚îÇ            ‚îÇ           ‚îÇ —Å–∏–Ω—Ö—Ä.      ‚îÇ              ‚îÇ ‚îÇ
   ‚îÇ ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ ‚îÇ
   ‚îÇ ‚îÇ –∞–∫—Ü–∏—è1     ‚îÇ –∞–∫—Ü–∏—è     ‚îÇ 16.11.2025  ‚îÇ ‚óØ –ò—Å–ø. CRM   ‚îÇ ‚îÇ
   ‚îÇ ‚îÇ (–∏–∑–º–µ–Ω–µ–Ω–æ: ‚îÇ           ‚îÇ 18:30       ‚îÇ ‚óØ –ò—Å–ø. Pyrus ‚îÇ ‚îÇ
   ‚îÇ ‚îÇ 17.11.2025 ‚îÇ           ‚îÇ             ‚îÇ ‚óè –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å ‚îÇ ‚îÇ
   ‚îÇ ‚îÇ 20:00)     ‚îÇ           ‚îÇ             ‚îÇ              ‚îÇ ‚îÇ
   ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
   ‚îÇ                                                          ‚îÇ
   ‚îÇ [–û—Ç–º–µ–Ω–∞]                      [–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è]    ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –í—ã–±–∏—Ä–∞–µ—Ç "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CRM"

5. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ù–∞–∂–∏–º–∞–µ—Ç "–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è"

6. –°–∏—Å—Ç–µ–º–∞:
   - –û–±–Ω–æ–≤–ª—è–µ—Ç Pyrus: "–∞–∫—Ü–∏—è" ‚Üí "–∞–∫—Ü–∏—è1"
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: "–ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑—Ä–µ—à–µ–Ω—ã!"
   - –û–±–Ω–æ–≤–ª—è–µ—Ç —Å–ø–∏—Å–æ–∫ —Ç–∏–ø–æ–≤ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π
```

## –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
- ‚úÖ `frontend/components/sync/ConflictResolutionDialog.tsx` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–∏–∞–ª–æ–≥–∞

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- ‚úÖ `frontend/lib/api/pyrus.ts` - –¥–æ–±–∞–≤–ª–µ–Ω—ã API —Ñ—É–Ω–∫—Ü–∏–∏:
  - `detectSyncConflicts()`
  - `syncWithResolution()`
  - –¢–∏–ø—ã: `EventTypeConflict`, `RoomConflict`, `ConflictResolution`

- ‚úÖ `frontend/app/(dashboard)/admin/event-types/page.tsx`:
  - –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `checkAndShowConflicts()`
  - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω `ConflictResolutionDialog`

- ‚úÖ `frontend/app/(dashboard)/admin/rooms/page.tsx`:
  - –ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–ª—è –ø–æ–º–µ—â–µ–Ω–∏–π

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç:
```bash
# –í CRM –ø–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ —Ç–∏–ø –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è "–∞–∫—Ü–∏—è" –≤ "–∞–∫—Ü–∏—è1"
# –í Pyrus –æ—Å—Ç–∞–≤—å—Ç–µ "–∞–∫—Ü–∏—è"
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é:
- –û—Ç–∫—Ä–æ–π—Ç–µ **–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ ‚Üí –¢–∏–ø—ã –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π**
- –ù–∞–∂–º–∏—Ç–µ **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Pyrus**

### 3. –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
1. ‚úÖ Toast-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: "‚ö†Ô∏è –ö–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤: 1"
2. ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –¥–∏–∞–ª–æ–≥** —Å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–º
3. ‚úÖ –í –¥–∏–∞–ª–æ–≥–µ –≤–∏–¥–Ω—ã:
   - CRM: "–∞–∫—Ü–∏—è1"
   - Pyrus: "–∞–∫—Ü–∏—è"
   - –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
4. ‚úÖ –ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ
5. ‚úÖ –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1. –£–º–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
```typescript
// –ö–æ–Ω—Ñ–ª–∏–∫—Ç –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç—Å—è –µ—Å–ª–∏:
const hasConflict =
  !existingEventType.lastSyncedAt ||  // –ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–ª—Å—è
  (existingEventType.lastSyncedAt &&
   existingEventType.updatedAt > existingEventType.lastSyncedAt);  // –ò–∑–º–µ–Ω–µ–Ω –ø–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
```

### 2. –ì–∏–±–∫–∏–µ –æ–ø—Ü–∏–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
```typescript
enum ConflictResolution {
  USE_CRM = 'USE_CRM',       // –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç CRM
  USE_PYRUS = 'USE_PYRUS',   // –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç Pyrus
  SKIP = 'SKIP',             // –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –æ–±—ä–µ–∫—Ç
}
```

### 3. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∏ –¥—É–±–ª–µ–π
- **–ö–æ–Ω—Ñ–ª–∏–∫—Ç** - –æ–±—ä–µ–∫—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –æ–±–µ–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö, –Ω–æ –¥–∞–Ω–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è
- **–î—É–±–ª—å** - –æ–±—ä–µ–∫—Ç —Å –ø–æ—Ö–æ–∂–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º (—Å—Ö–æ–∂–µ—Å—Ç—å ‚â• 75%)

–î—É–±–ª–∏ **–Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ –¥–∏–∞–ª–æ–≥–µ** –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

## –ü–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ

### –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:

1. **–ü—Ä–µ–≤—å—é –∏–∑–º–µ–Ω–µ–Ω–∏–π**
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—Å—è –ø—Ä–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è

2. **–ò—Å—Ç–æ—Ä–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤**
   - –°–æ—Ö—Ä–∞–Ω—è—Ç—å –∏—Å—Ç–æ—Ä–∏—é —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
   - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–∞—Ç–∞

3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ**
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤–∏–ª: "–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CRM" / "–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Pyrus"
   - –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª –¥–ª—è –±—É–¥—É—â–∏—Ö –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

4. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**
   - Email –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
   - Slack/Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

5. **Diff-view**
   - –í–∏–∑—É–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π (–∫–∞–∫ –≤ Git)
   - –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Ä–∞–∑–ª–∏—á–∏–π

## API Reference

### –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã
```typescript
GET /api/integrations/pyrus/detect-conflicts

Response:
{
  "eventTypeConflicts": [
    {
      "id": "uuid",
      "pyrusId": "12345",
      "crmData": {
        "name": "–∞–∫—Ü–∏—è1",
        "description": "...",
        "updatedAt": "2025-11-17T20:00:00Z"
      },
      "pyrusData": {
        "name": "–∞–∫—Ü–∏—è"
      },
      "lastSyncedAt": "2025-11-16T18:30:00Z"
    }
  ],
  "roomConflicts": [...],
  "hasConflicts": true
}
```

### –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
```typescript
POST /api/integrations/pyrus/sync-with-resolution

Request:
{
  "eventTypeResolutions": [
    {
      "id": "uuid",
      "resolution": "USE_CRM" | "USE_PYRUS" | "SKIP"
    }
  ],
  "roomResolutions": [...]
}

Response:
{
  "eventTypes": {
    "created": 0,
    "updated": 1,
    "skipped": 0,
    "errors": []
  },
  "rooms": {...}
}
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ—à–µ–Ω–∏—è

‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ** - –Ω–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã
‚úÖ **–ù–∞–≥–ª—è–¥–Ω–æ—Å—Ç—å** - –≤—Å–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –≤–∏–¥–Ω—ã –≤ –æ–¥–Ω–æ–º –æ–∫–Ω–µ
‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å** - –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥—É–±–ª–∏ (‚â•75% —Å—Ö–æ–∂–µ—Å—Ç–∏)
‚úÖ **–£–¥–æ–±—Å—Ç–≤–æ** - –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å —Ä–∞–¥–∏–æ-–∫–Ω–æ–ø–∫–∞–º–∏
‚úÖ **–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å** - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ toast-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- **Fuzzy Matching:** `/home/nikita/artsvao/FUZZY_MATCHING_FIX.md`
- **Backend —Ä–µ—à–µ–Ω–∏–µ:** `/home/nikita/artsvao/SYNC_CONFLICTS_SOLUTION.md`
- **–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π:** `/home/nikita/artsvao/SYNC_FIX_SUMMARY.md`
